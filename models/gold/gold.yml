version: 2

models:
  - name: agg_application_id_funnel_br
    description: "Funnel stages aggregation by id BR"
    columns:
      - name: country_code
        description: "Country code, fixed to BR for entire table"
      - name: ocurred_on_date
        description: "Date for the funnel aggregation"
      - name: ocurred_on_hour
        description: "Hour for the funnel aggregation"
      - name: ocurred_on_date_hour
        description: "Date and hour for the funnel aggregation"
      - name: journey_name
        description: "Journey of the stage"
      - name: journey_homolog
        description: "Homolog of the journey"
      - name: brand
        description: "Brand of the stage"
      - name: ally_slug
        description: "Ally of the stage"
      - name: vertical
        description: "Vertical ally"
      - name: client_type
        description: "Client or Prospect"
      - name: stage
        description: "Aggregated stage"
      - name: stage_priority_proxy
        description: "Stage priority"
      - name: num_application_process
        description: "Total aggregated applications"
      - name: sum_flag_approval_event
        description: "Sum of approval events in the stage"
      - name: sum_stage_in
        description: "Sum of applications entering the stage"
      - name: sum_stage_out
        description: "Sum of applications exiting the stage and entering the next one"
      - name: exemplar_application_process_id
        description: "An example of an application_process, which is generated from the timestamp, client_id, ally_slug and journey name"
      - name: exemplar_application_id
        description: "An example of an application_id"
  - name: agg_application_id_funnel_co
    description: "Funnel stages aggregation by id CO"
    columns:
      - name: country_code
        description: "Country code, fixed to CO for entire table"
      - name: ocurred_on_date
        description: "Date for the funnel aggregation"
      - name: ocurred_on_hour
        description: "Hour for the funnel aggregation"
      - name: ocurred_on_date_hour
        description: "Date and hour for the funnel aggregation"
      - name: journey_name
        description: "Journey of the stage"
      - name: journey_homolog
        description: "Homolog of the journey"
      - name: brand
        description: "Brand of the stage"
      - name: ally_slug
        description: "Ally of the stage"
      - name: vertical
        description: "Vertical ally"
      - name: client_type
        description: "Client or Prospect"
      - name: stage
        description: "Aggregated stage"
      - name: stage_priority_proxy
        description: "Stage priority"
      - name: num_application_process
        description: "Total aggregated applications"
      - name: sum_flag_approval_event
        description: "Sum of approval events in the stage"
      - name: sum_stage_in
        description: "Sum of applications entering the stage"
      - name: sum_stage_out
        description: "Sum of applications exiting the stage and entering the next one"
      - name: exemplar_application_process_id
        description: "An example of an application_process, which is generated from the timestamp, client_id, ally_slug and journey name"
      - name: exemplar_application_id
        description: "An example of an application_id"
  - name: dm_application_id_funnel_br
    description: "Funnel stages applications BR"
    columns:
      - name: application_id
        description: "identifier of the application"
      - name: application_process_id
        description: "identifier of the application process, which is generated from the timestamp, client_id, ally_slug and journey name"
      - name: ocurred_on_date
        description: "Date of the application"
      - name: ocurred_on_timestamp
        description: "Timestamp of the application"
      - name: client_id
        description: "Identifier of the client"
      - name: journey_name
        description: "Journey of the stage"
      - name: journey_homolog
        description: "Homolog of the journey"
      - name: ally_slug
        description: "Ally of the stage"
      - name: brand
        description: "Brand of the stage"
      - name: vertical
        description: "Vertical ally"
      - name: flag_approval_event
        description: "Approval event for the stage flag"
      - name: channel
        description: "Channel of the application"
      - name: client_type
        description: "Client or Prospect"
      - name: flag_preapproval
        description: "Preapproval application flag"
      - name: additional_information_br_in
        description: "Stage additional information br in flag"
      - name: additional_information_br_out
        description: "Stage additional information br out flag"
      - name: background_check_br_in
        description: "Stage background check br in flag"
      - name: background_check_br_out
        description: "Stage background check br out flag"
      - name: banking_license_partner_br_in
        description: "Stage banking license partner br in flag"
      - name: banking_license_partner_br_out
        description: "Stage banking license partner br out flag"
      - name: basic_identity_br_in
        description: "Stage basic identity br in flag"
      - name: basic_identity_br_out
        description: "Stage basic identity br out flag"
      - name: bn_pn_payments_br_in
        description: "Stage bn pn payments br_in flag"
      - name: bn_pn_payments_br_out
        description: "Stage bn pn payments br_out flag"
      - name: cellphone_validation_br_in
        description: "Stage cellphone validation br in flag"
      - name: cellphone_validation_br_out
        description: "Stage cellphone validation br out flag"
      - name: device_information_br_in
        description: "Stage device information br in flag"
      - name: device_information_br_out
        description: "Stage device information br out flag"
      - name: down_payment_br_in
        description: "Stage down payment br in flag"
      - name: down_payment_br_out
        description: "Stage down payment br out flag"
      - name: fraud_check_br_in
        description: "Stage fraud check br in flag"
      - name: fraud_check_br_out
        description: "Stage fraud check br out flag"
      - name: identity_verification_br_in
        description: "Stage identity verification br in flag"
      - name: identity_verification_br_out
        description: "Stage identity verification br out flag"
      - name: idv_third_party_br_in
        description: "Stage idv third party br_in flag"
      - name: idv_third_party_br_out
        description: "Stage idv third party br_out flag"
      - name: loan_acceptance_br_in
        description: "Stage loan acceptance br in flag"
      - name: loan_acceptance_br_out
        description: "Stage loan acceptance br out flag"
      - name: loan_proposals_br_in
        description: "Stage loan proposals br in flag"
      - name: loan_proposals_br_out
        description: "Stage loan proposals br out flag"
      - name: personal_information_br_in
        description: "Stage personal information br in flag"
      - name: personal_information_br_out
        description: "Stage personal information br out flag"
      - name: preapproval_summary_br_in
        description: "Stage preapproval summary br in flag"
      - name: preapproval_summary_br_out
        description: "Stage preapproval summary br out flag"
      - name: preconditions_br_in
        description: "Stage preconditions br in"
      - name: preconditions_br_out
        description: "Stage preconditions br out"
      - name: privacy_policy_br_in
        description: "Stage privacy policy br in flag"
      - name: privacy_policy_br_out
        description: "Stage privacy policy br out flag"
      - name: psychometric_assessment_br_in
        description: "Stage psychometric assessment br in flag"
      - name: psychometric_assessment_br_out
        description: "Stage psychometric assessment br out flag"
      - name: subproduct_selection_br_in
        description: "Stage subproduct selection br in flag"
      - name: subproduct_selection_br_out
        description: "Stage subproduct selection br out flag"
      - name: underwriting_br_in
        description: "Stage underwriting br in"
      - name: underwriting_br_out
        description: "Stage underwriting br out"
  - name: dm_application_id_funnel_co
    description: "Funnel stages applications CO"
    columns:
      - name: application_id
        description: "identifier of the application"
      - name: application_process_id
        description: "identifier of the application process, which is generated from the timestamp, client_id, ally_slug and journey name"
      - name: ocurred_on_date
        description: "Date of the application"
      - name: ocurred_on_timestamp
        description: "Timestamp of the application"
      - name: client_id
        description: "Identifier of the client"
      - name: journey_name
        description: "Journey of the stage"
      - name: journey_homolog
        description: "Homolog of the journey"
      - name: ally_slug
        description: "Ally of the stage"
      - name: brand
        description: "Brand of the stage"
      - name: vertical
        description: "Vertical ally"
      - name: channel
        description: "Channel of the application"
      - name: client_type
        description: "Client or Prospect"
      - name: flag_preapproval
        description: "Preapproval application flag"
      - name: flag_approval_event
        description: "Approval event for the stage flag"
      - name: additional_information_co_in
        description: "Stage additional information in flag"
      - name: additional_information_co_out
        description: "Stage additional information out flag"
      - name: background_check_co_in
        description: "Stage background check in flag"
      - name: background_check_co_out
        description: "Stage background check out flag"
      - name: basic_identity_co_in
        description: "Stage basic identity co in flag"
      - name: basic_identity_co_out
        description: "Stage basic identity co out flag"
      - name: device_information_co_in
        description: "Stage device information co in flag"
      - name: device_information_co_out
        description: "Stage device information co out flag"
      - name: fraud_check_co_in
        description: "Stage fraud check co in flag"
      - name: fraud_check_co_out
        description: "Stage fraud check co out flag"
      - name: identity_verification_co_in
        description: "Stage identity verification co in flag"
      - name: identity_verification_co_out
        description: "Stage identity verification co out flag"
      - name: loan_acceptance_co_in
        description: "Stage loan acceptance co in flag"
      - name: loan_acceptance_co_out
        description: "Stage loan acceptance co out flag"
      - name: loan_proposals_co_in
        description: "Stage loan proposals co in flag"
      - name: loan_proposals_co_out
        description: "Stage loan proposals co out flag"
      - name: preapproval_summary_co_in
        description: "Stage preapproval summary co in flag"
      - name: preapproval_summary_co_out
        description: "Stage preapproval summary co out flag"
      - name: preconditions_co_in
        description: "Stage preconditions co in"
      - name: preconditions_co_out
        description: "Stage preconditions co out"
      - name: privacy_policy_stage_in
        description: "Stage privacy policy stage in flag"
      - name: privacy_accepted_co_out
        description: "Stage privacy accepted co out flag"
      - name: privacy_expiration_date_co_out
        description: "Stage privacy expiration date co_out flag"
      - name: privacy_first_name_co_out
        description: "Stage privacy first name co_out flag"
      - name: privacy_policy_co_in
        description: "Stage privacy policy co in flag"
      - name: privacy_policy_co_out
        description: "Stage privacy policy co out flag"
      - name: psychometric_assessment_co_in
        description: "Stage psychometric assessment co in flag"
      - name: psychometric_assessment_co_out
        description: "Stage psychometric assessment co out flag"
      - name: underwriting_co_in
        description: "Stage underwriting co in"
      - name: underwriting_co_out
        description: "Stage underwriting co out"
      - name: work_information_co_in
        description: "Stage work information co in flag"
      - name: work_information_co_out
        description: "Stage work information co out flag"
  - name: dm_idv
    description: "IDV grouped metrics datamart"
    columns:
      - name: period
        description: "DESCRIPTION PLACEHOLDER"
      - name: country_code
        description: "DESCRIPTION PLACEHOLDER"
      - name: idv_version
        description: "DESCRIPTION PLACEHOLDER"
      - name: application_date
        description: "DESCRIPTION PLACEHOLDER"
      - name: application_id
        description: "DESCRIPTION PLACEHOLDER"
      - name: idv_status
        description: "DESCRIPTION PLACEHOLDER"
      - name: identitywastarted_at
        description: "DESCRIPTION PLACEHOLDER"
      - name: identitywaapproved_at
        description: "DESCRIPTION PLACEHOLDER"
      - name: identitywarejected_at
        description: "DESCRIPTION PLACEHOLDER"
      - name: identitywadiscarded_at
        description: "DESCRIPTION PLACEHOLDER"
      - name: identityphotosevaluationstarted_at
        description: "DESCRIPTION PLACEHOLDER"
      - name: identityphotosagentassigned_at
        description: "DESCRIPTION PLACEHOLDER"
      - name: analyst
        description: "DESCRIPTION PLACEHOLDER"
      - name: channel
        description: "DESCRIPTION PLACEHOLDER"
      - name: idv_policy
        description: "DESCRIPTION PLACEHOLDER"
      - name: reason
        description: "DESCRIPTION PLACEHOLDER"
      - name: ally_id
        description: "DESCRIPTION PLACEHOLDER"
      - name: ally
        description: "DESCRIPTION PLACEHOLDER"
      - name: prospect_id
        description: "DESCRIPTION PLACEHOLDER"
      - name: ticket
        description: "DESCRIPTION PLACEHOLDER"
      - name: observations
        description: "DESCRIPTION PLACEHOLDER"
      - name: total_apps
        description: "DESCRIPTION PLACEHOLDER"
      - name: active_analyst
        description: "DESCRIPTION PLACEHOLDER"
      - name: idv_approved
        description: "DESCRIPTION PLACEHOLDER"
      - name: idv_rejected
        description: "DESCRIPTION PLACEHOLDER"
      - name: idv_discarded
        description: "DESCRIPTION PLACEHOLDER"
      - name: idv_pending
        description: "DESCRIPTION PLACEHOLDER"
      - name: aht
        description: "DESCRIPTION PLACEHOLDER"
      - name: aht_approval
        description: "DESCRIPTION PLACEHOLDER"
      - name: aht_rejected
        description: "DESCRIPTION PLACEHOLDER"
      - name: aht_discarded
        description: "DESCRIPTION PLACEHOLDER"
      - name: aht_handling
        description: "DESCRIPTION PLACEHOLDER"
      - name: aht_queued
        description: "DESCRIPTION PLACEHOLDER"
      - name: aht_queued_addi
        description: "DESCRIPTION PLACEHOLDER"
      - name: photo_quality
        description: "DESCRIPTION PLACEHOLDER"
  - name: dm_loan_sale_co
    description: "DM for loan sale for Architect and Goldman"
    columns:
      - name: application_id
        description: "UUID of the application"
      - name: loan_id
        description: "UUID of the loan"
      - name: addi_pd
        description: "Probability of default for the loan"
      - name: ally_is_terminated
        description: "Flag to indicate if the ally is terminated"
      - name: ally_name
        description: "Name of the ally"
      - name: ally_slug
        description: "Slug of the ally"
      - name: ally_vertical
        description: "Vertical of the ally"
      - name: ally_region
        description: "Region of the ally"
      - name: approved_amount
        description: "Amount approved for the loan"
      - name: cancellation_reason
        description: "Reason for the cancellation of the loan"
      - name: client_id
        description: "UUID of the client"
      - name: credit_score
        description: "Credit score of the client"
      - name: credit_score_name
        description: "Name of the provider of the credit score"
      - name: current_apr
        description: "Current applicable rate of the loan"
      - name: total_principal_paid
        description: "Total amount of principal paid"
      - name: total_interest_paid
        description: "Total amount of interest paid"
      - name: current_installment_amount
        description: "Current installment amount of the loan"
      - name: client_max_days_past_due
        description: "Maximum number of days past due for the client"
      - name: client_type
        description: "Type of the client"
      - name: days_past_due
        description: "Number of days past due for the loan"
      - name: estimated_income
        description: "Estimated income of the client"
      - name: credit_check_income_provider
        description: "Provider of the credit check income provider"
      - name: expected_final_losses
        description: "Expected final losses for the loan"
      - name: expected_net_profit
        description: "Expected net profit for the loan"
      - name: expected_maturity_date
        description: "Expected maturity date for the loan"
      - name: fga
        description: "Flag to indicate if the loan is in FGA"
      - name: first_payment_date
        description: "First payment date for the loan"
      - name: guarantee_provider
        description: "Guarantee provider, FNG or FGA"
      - name: is_ia_loan
        description: "Flag to indicate if the loan is in IA"
      - name: is_addi_employee
        description: "Flag to indicate if the client is an ADDI employee"
      - name: is_cancelled
        description: "Flag to indicate if the loan is cancelled"
      - name: is_fully_paid
        description: "Flag to indicate if the loan is fully paid"
      - name: is_fga_claimed
        description: "Flag to indicate if the loan is fga claimed"
      - name: condonation_date
        description: "Date of the condonation of the loan if it was condonated"
      - name: is_returning_client
        description: "Flag to indicate if the client is a returning client"
      - name: learning_population
        description: "Learning population for the loan"
      - name: loan_number
        description: "Number of the loan"
      - name: loan_mdf
        description: "Merchant discount fee for the loan"
      - name: loan_lead_gen_fee_rate
        description: "Lead generation fee rate for the loan"
      - name: loan_is_modified
        description: "Flag to indicate if the loan is modified"
      - name: loan_max_days_past_due
        description: "Maximum number of days past due for the loan"
      - name: loan_ownership
        description: "Ownership of the loan"
      - name: low_balance_loan
        description: "Flag to indicate if the loan is low balance"
      - name: mob
        description: "Month on book for the loan"
      - name: origination_apr
        description: "Origination applicable rate for the loan, interest rate"
      - name: origination_date
        description: "Origination date for the loan"
      - name: paid_installments
        description: "Number of paid installments for the loan"
      - name: client_total_paid_installments
        description: "Total number of paid installments for the client"
      - name: product
        description: "Product of the loan"
      - name: prospect_age_avg
        description: "Average age of the prospect"
      - name: reason_to_filter
        description: "Reason to filter the loan"
      - name: synthetic_product_category
        description: "Category of the product"
      - name: synthetic_product_subcategory
        description: "Subcategory of the product"
      - name: term
        description: "Term of the loan"
      - name: unpaid_principal
        description: "Unpaid principal for the loan"
      - name: tdsr
        description: "Total debt service ratio for the loan"
      - name: usury_rate
        description: "Usury rate for the loan at origination"
      - name: loan_elegible_for_architect
        description: "Flag to indicate if the loan is eligible for Architect"
      - name: loan_elegible_for_goldman
        description: "Flag to indicate if the loan is eligible for Goldman"
      - name: debug_architect
        description: "Debug for Architect"
      - name: debug_goldman
        description: "Debug for Goldman"
  - name: dm_communications
    description: "dm communications table"
    columns:
      - name: _dt
        description: "Date of the last event received for the specific message"
      - name: last_event_time
        description: "A timestamp of the last event received for the specific message on UTC time."
      - name: id
        description: "A unique ID assigned to the message."
      - name: source
        description: "Source of the message (twilio or sendgrid)"
      - name: channel
        description: "The communication channel (sms, whatsapp or email)"
      - name: from
        description: "The sender's phone number or email, could be from the client or a twilio phone number or a sendgrid email address."
      - name: to
        description: "The recipient's phone number or email, could be from the client or a twilio phone number."
      - name: client_id
        description: "The id of the client"
      - name: message
        description: "The text or subject of the message sent."
      - name: status
        description: "The status of the message."
      - name: sendgrid_opens_count
        description: "The number of times the message was opened."
      - name: sendgrid_clicks_count
        description: "The number of times links in the message were clicked."
      - name: twilio_country_client
        description: "The country of the client depending of the code on cellphone number"
      - name: twilio_price_unit
        description: "The currency in which price column is measured."
      - name: twilio_price
        description: "The amount billed for the message, in the currency specified by price_unit."
      - name: twilio_date_sent
        description: "The date and time in UTC that the resource was sent."
      - name: twilio_date_created
        description: The date and time in UTC that the resource was created.
      - name: twilio_direction
        description: "The direction of the message."
      - name: twilio_num_media
        description: "The number of media files associated with the message. A message can send up to 10 media files."
      - name: twilio_error_code
        description: "The error code returned if the message status is failed or undelivered."
      - name: twilio_error_message
        description: "The description of the error_code if your message status is failed or undelivered."
      - name: twilio_account_sid
        description: "The SID of the Account that sent the message that created the resource."
      - name: twilio_num_segments
        description: "The number of segments that make up the complete message."
  - name: dm_amplitude
    description: "Gold amplitude table"
    columns:
      - name: project
        description: "Name of the project"
      - name: event_date
        description: "Date of the event"
      - name: unique_id
        description: "Unique id for the event made with surrogate_key based on event_time, session_id and event_id"
      - name: event_time
        description: "Time when the event happened"
      - name: event_type
        description: "Name of the event"
      - name: event_type_holog
        description: "New naming of the event"
      - name: session_id
        description: "Unique identifier of the session"
      - name: event_id
        description: "Unique identifier of the event"
      - name: user_id
        description: "Unique identifier of the user"
      - name: device_id
        description: "Unique identifier of the device"
      - name: platform
        description: "Platform used"
      - name: device_type
        description: "Type of the device used by the user"
      - name: version_name
        description: "Version number/name"
      - name: country
        description: "Country name"
      - name: city
        description: "City Name"
      - name: addi_cupo_state_v2
        description: "Addi cupo state"
      - name: ally_country
        description: "Country of the ally"
      - name: ally_brand_name
        description: "Brand name of the ally"
      - name: ally_brand_slug
        description: "Brand slug of the ally"
      - name: ally_categories
        description: "Categories related to the ally activity"
      - name: ally_slug
        description: "Slug of the ally"
      - name: ally_channel
        description: "Channel of the ally"
      - name: ally_name
        description: "Name of the ally"
      - name: ally_vertical_name
        description: "Vertical of the ally"
      - name: ally_state
        description: "State fo the ally"
      - name: amplitude_id
        description: "Amplitude ID"
      - name: application_id
        description: "Unique identifier of the application"
      - name: channel
        description: "Application channel"
      - name: source
        description: "Application source"
      - name: client_type
        description: "Type of the client"
      - name: product_type
        description: "Type of the product (Financia,pago)"
      - name: journey_name
        description: "Name of the journey"
      - name: journey_stages
        description: "Name of the stages of the journey"
      - name: journey_current_stage
        description: "Name of the current stage of the journey"
      - name: searched_word
        description: "Words typed by the user. In some cases the searchedWord property contains the category name + word typed by user."
  - name: agg_originations_ally_mdf
    description: "Weight mdf table by ally and period calculated with originations and loan proposals data"
    columns:
      - name: country
        description: "Slug of the ally"
      - name: period
        description: "Period of the metric (monthly)"
      - name: product
        description: "Application product (available since originations_v2 refactor)"
      - name: gmv
        description: "Total GMV"
      - name: weighted_mdf
        description: "Merchant Discount Fee weighted by gmv"
      - name: num_records
        description: "Amount of applications used to calculate the metric"
  - name: agg_application_process_funnel_co
    description: "Aggregated table for application process product funnel dashboards v2, based on gold datamart table dm_application_process_funnel_co for Colombia"
    columns:
      - name: country_code
        description: "Country code for the record"
      - name: ocurred_on_date
        description: "Date of the application"
      - name: ocurred_on_hour
        description: "Hour for the funnel aggregation"
      - name: ocurred_on_date_hour
        description: "Date and hour for the funnel aggregation"
      - name: journey_name
        description: "Application journey name"
      - name: journey_homolog
        description: "Homolog of the journey"
      - name: synthetic_product_category
        description: "Addi Cupo/Extra/Intro flag assigned once he application pass through underwriting stages"
      - name: flag_preapproval
        description: "Preapproval application flag"
      - name: channel
        description: "Application channel (available since originations_v2 refactor)"
      - name: brand
        description: "Brand of the stage"
      - name: ally_slug
        description: "Slug of the ally"
      - name: vertical
        description: "Vertical ally"
      - name: ally_cluster
        description: "Cluster ally"
      - name: client_type
        description: "Type of the client"
      - name: account_kam_name
        description: "Salesforce KAM User Name"
      - name: is_addishop_referral
        description: "Boolean to indicate weather the loan was started in Addishop channel (App/Web/Email/WA/etc). If not found default to FALSE - Business logic from gold.bl_application_addi_shop_co"
      - name: is_addishop_referral_paid
        description: "Boolean to indicate weather the loan was started in Addishop channel & the merchant is paying the Addishop fee. If not found default to FALSE - Business logic from gold.bl_application_addi_shop_co"
      - name: stage
        description: "Aggregated stage"
      - name: stage_priority_proxy
        description: "Stage priority"
      - name: num_application_process
        description: "Total aggregated applications"
      - name: sum_flag_approval_event
        description: "Sum of approval events in the stage"
      - name: sum_stage_in
        description: "Sum of applications entering the stage"
      - name: sum_stage_out
        description: "Sum of applications exiting the stage and entering the next one"
      - name: exemplar_application_process_id
        description: "An example of an application_process, which is generated from the timestamp, client_id, ally_slug and journey name"
  - name: agg_application_process_funnel_br
    description: "Aggregated table for application process product funnel dashboards v2, based on gold datamart table dm_application_process_funnel_br for Brazil"
    columns:
      - name: country_code
        description: "Country code for the record"
      - name: ocurred_on_date
        description: "Date of the application"
      - name: ocurred_on_hour
        description: "Hour for the funnel aggregation"
      - name: ocurred_on_date_hour
        description: "Date and hour for the funnel aggregation"
      - name: journey_name
        description: "Application journey name"
      - name: journey_homolog
        description: "Homolog of the journey"
      - name: flag_preapproval
        description: "Preapproval application flag"
      - name: channel
        description: "Application channel (available since originations_v2 refactor)"
      - name: brand
        description: "Brand of the stage"
      - name: ally_slug
        description: "Slug of the ally"
      - name: vertical
        description: "Vertical ally"
      - name: client_type
        description: "Type of the client"
      - name: stage
        description: "Aggregated stage"
      - name: stage_priority_proxy
        description: "Stage priority"
      - name: num_application_process
        description: "Total aggregated applications"
      - name: sum_flag_approval_event
        description: "Sum of approval events in the stage"
      - name: sum_stage_in
        description: "Sum of applications entering the stage"
      - name: sum_stage_out
        description: "Sum of applications exiting the stage and entering the next one"
      - name: exemplar_application_process_id
        description: "An example of an application_process, which is generated from the timestamp, client_id, ally_slug and journey name"
  - name: dm_application_process_funnel_co
    description: "Datamart table for application process product funnel dashboards v2, complex logic based upon silver layer tables from Colombia"
    columns:
      - name: application_process_id
        description: "An example of an application_process, which is generated from the timestamp, client_id, ally_slug and journey name"
      - name: ocurred_on_date
        description: "Date of the application"
      - name: ocurred_on_timestamp
        description: "Timestamp of the application"
      - name: client_id
        description: "UUID of the client"
      - name: journey_name
        description: "Application journey name"
      - name: journey_homolog
        description: "Homolog of the journey"
      - name: synthetic_product_category
        description: "Addi Cupo/Extra/Intro flag assigned once he application pass through underwriting stages"
      - name: ally_slug
        description: "Slug of the ally"
      - name: brand
        description: "Brand of the stage"
      - name: vertical
        description: "Vertical ally"
      - name: ally_cluster
        description: "Cluster ally"
      - name: account_kam_name
        description: "Salesforce KAM User Name"
      - name: is_addishop_referral
        description: "Boolean to indicate weather the loan was started in Addishop channel (App/Web/Email/WA/etc). If not found default to FALSE - Business logic from gold.bl_application_addi_shop_co"
      - name: is_addishop_referral_paid
        description: "Boolean to indicate weather the loan was started in Addishop channel & the merchant is paying the Addishop fee. If not found default to FALSE - Business logic from gold.bl_application_addi_shop_co"
      - name: channel
        description: "Channel of the application"
      - name: client_type
        description: "Client or Prospect"
      - name: flag_preapproval
        description: "Preapproval application flag"
      - name: flag_approval_event
        description: "Approval event for the stage flag"
      - name: additional_information_co_in
        description: "Stage additional information in flag"
      - name: additional_information_co_out
        description: "Stage additional information out flag"
      - name: background_check_co_in
        description: "Stage background check in flag"
      - name: background_check_co_out
        description: "Stage background check out flag"
      - name: basic_identity_co_in
        description: "Stage basic identity co in flag"
      - name: basic_identity_co_out
        description: "Stage basic identity co out flag"
      - name: device_information_co_in
        description: "Stage device information co in flag"
      - name: device_information_co_out
        description: "Stage device information co out flag"
      - name: email_verification_co_in
        description: "Stage email verification co in flag"
      - name: email_verification_co_out
        description: "Stage email verification co out flag"
      - name: face_verification_co_in
        description: "Stage face verification co in flag"
      - name: face_verification_co_out
        description: "Stage face verification co out flag"
      - name: fraud_check_co_in
        description: "Stage fraud check co in flag"
      - name: fraud_check_co_out
        description: "Stage fraud check co out flag"
      - name: identity_verification_co_in
        description: "Stage identity verification co in flag"
      - name: identity_verification_co_out
        description: "Stage identity verification co out flag"
      - name: loan_acceptance_co_in
        description: "Stage loan acceptance co in flag"
      - name: loan_acceptance_co_out
        description: "Stage loan acceptance co out flag"
      - name: loan_proposals_co_in
        description: "Stage loan proposals co in flag"
      - name: loan_proposals_co_out
        description: "Stage loan proposals co out flag"
      - name: preapproval_summary_co_in
        description: "Stage preapproval summary co in flag"
      - name: preapproval_summary_co_out
        description: "Stage preapproval summary co out flag"
      - name: preconditions_co_in
        description: "Stage preconditions co in"
      - name: preconditions_co_out
        description: "Stage preconditions co out"
      - name: privacy_policy_stage_in
        description: "Stage privacy policy stage in flag"
      - name: privacy_accepted_co_out
        description: "Stage privacy accepted co out flag"
      - name: privacy_expiration_date_co_out
        description: "Stage privacy expiration date co_out flag"
      - name: privacy_first_name_co_out
        description: "Stage privacy first name co_out flag"
      - name: privacy_policy_co_in
        description: "Stage privacy policy co in flag"
      - name: privacy_policy_co_out
        description: "Stage privacy policy co out flag"
      - name: psychometric_assessment_co_in
        description: "Stage psychometric assessment co in flag"
      - name: psychometric_assessment_co_out
        description: "Stage psychometric assessment co out flag"
      - name: risk_evaluation_santander_co_in
        description: "Stage risk evaluation santander co in flag"
      - name: risk_evaluation_santander_co_out
        description: "Stage risk evaluation santander co out flag"
      - name: underwriting_co_in
        description: "Stage underwriting co in"
      - name: underwriting_co_out
        description: "Stage underwriting co out"
      - name: work_information_co_in
        description: "Stage work information co in flag"
      - name: work_information_co_out
        description: "Stage work information co out flag"
      - name: applications_array
        description: "Detail on applications considered as part of a particular application process"
      - name: num_applications
        description: "Number of applications consideres as part of a particular application process"
  - name: dm_application_process_funnel_br
    description: "Datamart table for application process product funnel dashboards v2, complex logic based upon silver layer tables from Brazil"
    columns:
      - name: application_process_id
        description: "An example of an application_process, which is generated from the timestamp, client_id, ally_slug and journey name"
      - name: ocurred_on_date
        description: "Date for the funnel aggregation"
      - name: ocurred_on_timestamp
        description: "Timestamp of the application"
      - name: client_id
        description: "Identifier of the client"
      - name: journey_name
        description: "Journey of the stage"
      - name: journey_homolog
        description: "Homolog of the journey"
      - name: ally_slug
        description: "Ally of the stage"
      - name: brand
        description: "Brand of the stage"
      - name: vertical
        description: "Vertical ally"
      - name: flag_approval_event
        description: "Approval event for the stage flag"
      - name: channel
        description: "Channel of the application"
      - name: client_type
        description: "Client or Prospect"
      - name: flag_preapproval
        description: "Preapproval application flag"
      - name: additional_information_br_in
        description: "Stage additional information br in flag"
      - name: additional_information_br_out
        description: "Stage additional information br out flag"
      - name: background_check_br_in
        description: "Stage background check br in flag"
      - name: background_check_br_out
        description: "Stage background check br out flag"
      - name: banking_license_partner_br_in
        description: "Stage banking license partner br in flag"
      - name: banking_license_partner_br_out
        description: "Stage banking license partner br out flag"
      - name: basic_identity_br_in
        description: "Stage basic identity br in flag"
      - name: basic_identity_br_out
        description: "Stage basic identity br out flag"
      - name: bn_pn_payments_br_in
        description: "Stage bn pn payments br_in flag"
      - name: bn_pn_payments_br_out
        description: "Stage bn pn payments br_out flag"
      - name: cellphone_validation_br_in
        description: "Stage cellphone validation br in flag"
      - name: cellphone_validation_br_out
        description: "Stage cellphone validation br out flag"
      - name: device_information_br_in
        description: "Stage device information br in flag"
      - name: device_information_br_out
        description: "Stage device information br out flag"
      - name: down_payment_br_in
        description: "Stage down payment br in flag"
      - name: down_payment_br_out
        description: "Stage down payment br out flag"
      - name: fraud_check_br_in
        description: "Stage fraud check br in flag"
      - name: fraud_check_br_out
        description: "Stage fraud check br out flag"
      - name: identity_verification_br_in
        description: "Stage identity verification br in flag"
      - name: identity_verification_br_out
        description: "Stage identity verification br out flag"
      - name: idv_third_party_br_in
        description: "Stage idv third party br_in flag"
      - name: idv_third_party_br_out
        description: "Stage idv third party br_out flag"
      - name: loan_acceptance_br_in
        description: "Stage loan acceptance br in flag"
      - name: loan_acceptance_br_out
        description: "Stage loan acceptance br out flag"
      - name: loan_proposals_br_in
        description: "Stage loan proposals br in flag"
      - name: loan_proposals_br_out
        description: "Stage loan proposals br out flag"
      - name: personal_information_br_in
        description: "Stage personal information br in flag"
      - name: personal_information_br_out
        description: "Stage personal information br out flag"
      - name: preapproval_summary_br_in
        description: "Stage preapproval summary br in flag"
      - name: preapproval_summary_br_out
        description: "Stage preapproval summary br out flag"
      - name: preconditions_br_in
        description: "Stage preconditions br in"
      - name: preconditions_br_out
        description: "Stage preconditions br out"
      - name: privacy_policy_br_in
        description: "Stage privacy policy br in flag"
      - name: privacy_policy_br_out
        description: "Stage privacy policy br out flag"
      - name: psychometric_assessment_br_in
        description: "Stage psychometric assessment br in flag"
      - name: psychometric_assessment_br_out
        description: "Stage psychometric assessment br out flag"
      - name: subproduct_selection_br_in
        description: "Stage subproduct selection br in flag"
      - name: subproduct_selection_br_out
        description: "Stage subproduct selection br out flag"
      - name: underwriting_br_in
        description: "Stage underwriting br in"
      - name: underwriting_br_out
        description: "Stage underwriting br out"
      - name: applications_array
        description: "Detail on applications considered as part of a particular application process"
      - name: num_applications
        description: "Number of applications consideres as part of a particular application process"
  - name: dm_customer_segmentation
    description: "Datamart table for customers information"
    columns:
      - name: country
        description: "Abbreviation of the country"
      - name: client_id
        description: "Identifier of the client"
      - name: n_applications
        description: "Amount of applications made by the client"
      - name: n_applications_last_week
        description: "Amount of applications made by the client last week"
      - name: n_applications_last_month
        description: "Amount of applications made by the client last month"
      - name: n_originations
        description: "Amount of originations made by the client"
      - name: n_pago_originated_loans
        description: "Amount of originations made by the client with Pago product"
      - name: n_originations_last_week
        description: "Amount of originations made by the client last week"
      - name: n_originations_last_month
        description: "Amount of originations made by the client last month"
      - name: last_application_date
        description: "Date of the last application"
      - name: total_GMV_originated
        description: "Total GMV originated by client"
      - name: avg_ammount_loan
        description: "Average ammount of the loan"
      - name: max_ammount_loan
        description: "Max amount of the loans originated by client"
      - name: n_slugs
        description: "Number of slugs used by client"
      - name: n_different_slugs
        description: "Number of different slugs used by client"
      - name: n_different_verticals
        description: "Number of different verticals used by client"
      - name: n_eccom_originated_loans
        description: "Number of loans originated by ecommerce channels"
      - name: n_physical_originated_loans
        description: "Number of loans originated by physical channels"
      - name: prospect_first_name
        description: "First name of the client by bureau"
      - name: prospect_age_range
        description: "Age range of the client by bureau"
      - name: city
        description: "Cities registered by the client by bureau"
      - name: n_bank_accounts
        description: "Amount of bank accounts of the client"
      - name: n_tradelines_cc
        description: "Amount of tradelines of the client"
      - name: has_bank_account
        description: "Boolean that indicates if client has at least one bank account"
      - name: has_credit_card
        description: "Boolean that indicates if client has at least one credit card"
      - name: estimated_income
        description: "Estimated income of client by bureau"
      - name: last_ammount_loan
        description: "Amount of the last loan"
      - name: last_slug
        description: "Slug of the last application"
      - name: last_vertical
        description: "Vertical of the last application"
      - name: first_slug
        description: "Slug of the first application"
      - name: first_vertical
        description: "Vertical of the first application"
      - name: first_origination_date
        description: "Date of the first origination"
      - name: last_origination_date
        description: "Date of the last origination"
      - name: n_active_days
        description: "Number of days that the client has been active in ADDI"
      - name: n_active_loans
        description: "Number of active loans"
      - name: last_credit_score
        description: "Last credit score assigned to client"
      - name: avg_credit_score
        description: "Average credit score for the client"
      - name: remaining_addicupo
        description: "Remaining addicupo for the client"
      - name: addicupo_state
        description: "Current state of the addicupo"
      - name: addicupo_last_update
        description: "Addi cupo last update"
      - name: first_installment_paid_date
        description: "Date of first installment payment"
      - name: first_fully_paid_loan_date
        description: "Date when the client fully paid its first loan"
      - name: max_days_past_due
        description: "Maximum of days past due by client among its loans"
      - name: installment_paid_in_delinquency_n
        description: "Number of installments paid in delinquency"
      - name: installment_paid_in_delinquency_proportion
        description: "Proportion of installments paid in delinquency"
      - name: first_contact
        description: "Date of the first contact of the client with ADDI"
      - name: prospect_age_range
        description: "Range of the prospect age"
      - name: prospect_age_avg
        description: "Average of the prospect age range"
  - name: loan_ownership_co
    description: "Gold table for loan ownership"
    columns:
      - name: loan_id
        description: "UUID of the loan"
      - name: loan_ownership
        description: "Indicates if ownership belongs to Addi or to a lender"
      - name: client_id_number
        description: "Id number of the client"
      - name: client_ownership
        description: "Ownership of the client"
      - name: sale_date
        description: "Loans sale date" 
  - name: dm_loan_status_co
    description: "Gold table for loan status - CO"
    columns:
      - name: calculation_date
        description: "Date of the calculation"
      - name: _day
        description: "Day of the calculation"
      - name: _year
        description: "Year of the calculation"
      - name: _month
        description: "Month of the calculation"
      - name: _dt
        description: "Date of the calculation"
      - name: loan_id
        description: "UUID of the loan"
      - name: client_id
        description: "UUID of the client"
      - name: accrued_interest_this_month
        description: "Accrued interest this month"
      - name: applicable_rate
        description: "Applicable rate for the loan"
      - name: condoned_interest_this_month
        description: "Amount of interest condoned this month"
      - name: current_installment_amount
        description: "Amount of the current installment"
      - name: current_interest_covered_this_month
        description: "Amount of interest covered this month"
      - name: current_interest_covered_this_period
        description: "Amount of interest covered this period"
      - name: current_interest_due_this_period
        description: "Amount of interest due this period"
      - name: current_principal_covered_this_month
        description: "Amount of principal covered this month"
      - name: current_principal_due_this_period
        description: "Amount of principal due this period"
      - name: days_past_due
        description: "Days past due"
      - name: full_payment
        description: "Amount of the full payment"
      - name: initial_installment_amount
        description: "Amount of the initial installment"
      - name: interest_condoned_in_first_period
        description: "Amount of interest condoned in the first period"
      - name: interest_on_overdue_principal
        description: "Amount of interest on overdue principal"
      - name: interest_on_overdue_principal_covered_this_month
        description: "Amount of interest on overdue principal covered this month"
      - name: interest_on_overdue_principal_covered_this_period
        description: "Amount on overdue principal covered this period"
      - name: interest_overdue
        description: "Amount of interest overdue"
      - name: interest_overdue_covered_this_month
        description: "Amount of interest overdue covered this month"
      - name: interest_overdue_covered_this_period
        description: "Amount of interest overdue covered this period"
      - name: ipmt
        description: "DESCRIPTION_PLACEHOLDER"
      - name: is_fully_paid
        description: "Boolean indicating if the loan is fully paid"
      - name: min_payment
        description: "Amount of the minimum payment"
      - name: months_on_books
        description: "Number of months on books"
      - name: paid_installments
        description: "Number of paid installments"
      - name: payday
        description: "Day of the payday"
      - name: period_prepayment_benefit
        description: "Period of the prepayment benefit"
      - name: ppmt
        description: "DESCRIPTION_PLACEHOLDER"
      - name: principal_overdue
        description: "Amount of principal overdue"
      - name: principal_overdue_covered_this_month
        description: "Amount of principal overdue covered this month"
      - name: principal_overdue_covered_this_period
        description: "Amount of principal overdue covered this period"
      - name: total_current_interest_condoned
        description: "Total amount of interest condoned"
      - name: total_current_principal_condoned
        description: "Total amount of principal condoned"
      - name: total_interest_overdue_condoned
        description: "Total amount of interest overdue condoned"
      - name: total_interest_paid
        description: "Total amount of interest paid"
      - name: total_moratory_interest_condoned
        description: "Total amount of moratory interest condoned"
      - name: total_payment_applied
        description: "Total amount of payment applied"
      - name: total_prepayment_benefit
        description: "Total amount of prepayment benefit"
      - name: total_principal_overdue_condoned
        description: "Total amount of principal overdue condoned"
      - name: total_principal_paid
        description: "Total amount of principal paid"
      - name: total_unpaid_principal_condoned
        description: "Total amount of unpaid principal condoned"
      - name: unpaid_interest
        description: "Amount of unpaid interest"
      - name: unpaid_principal
        description: "Amount of unpaid principal"
      - name: guarantee_overdue
        description: "Amount of guarantee overdue"
      - name: current_guarantee_due_this_period
        description: "Amount of guarantee due this period"
      - name: unpaid_guarantee
        description: "Amount of unpaid guarantee"
      - name: total_guarantee_paid
        description: "Total amount of guarantee paid"
      - name: guarantee_covered_this_period
        description: "Amount of guarantee covered this period"
      - name: guarantee_covered_this_month
        description: "Amount of guarantee covered this month"
      - name: total_guarantee_condoned
        description: "Total amount of guarantee condoned"
      - name: vintage
        description: "Vintage of the loan"
      - name: channel_str_agg
        description: "Channel of the loan"
      - name: payments_ownership_agg
        description: "Ownership of the payments"
      - name: num_payments
        description: "Number of payments"
      - name: total_pmt
        description: "Total amount of payments"
      - name: principal_pmt
        description: "Total amount of principal payments"
      - name: avg_pmt
        description: "Average amount of payments"
      - name: stdev_pmt
        description: "Standard deviation of payments"
      - name: first_payment_date
        description: "Date of the first payment"
      - name: origination_date
        description: "Date of the origination"
      - name: cancellation_reason
        description: "Reason of the cancellation"
      - name: refinancing_process_start_date
        description: "Date of the refinancing process start"
      - name: refinancing_process_end_date
        description: "Date of the refinancing process end"
      - name: refinancing_process_type
        description: "Type of the refinancing process"
      - name: refinancing_process_annulled
        description: "Boolean indicating if the refinancing process was annulled"
      - name: refinancing_process_annullment_reason
        description: "Reason of the refinancing process annullment"
      - name: refinancing_order
        description: "Order of the refinancing"
      - name: state
        description: "State of the loan"
      - name: loan_proposal_id
        description: "ID of the loan proposal"
      - name: ally_mdf
        description: "MDF of the ally"
      - name: ally_name
        description: "Name of the ally"
      - name: interest_rate
        description: "Interest rate of the loan"
      - name: lbl
        description: "Boolean indicating if the loan is low balance"
      - name: learning_population
        description: "Boolean indicating if the loan is in the learning population"
      - name: decision_npv
        description: "NPV of the decision"
      - name: first_loan_npv
        description: "First loan NPV"
      - name: lifetime_npv
        description: "Lifetime NPV"
      - name: discount_rate
        description: "Discount rate"
      - name: first_loan_roe
        description: "First loan ROE"
      - name: first_loan_cash
        description: "First loan cash"
      - name: lifetime_roe
        description: "Lifetime ROE"
      - name: lifetime_cash
        description: "Lifetime cash"
      - name: contribution_margin
        description: "Contribution margin"
      - name: total_fga_rate
        description: "Total FGA rate"
      - name: fga_comission_rate
        description: "FGA commission rate"
      - name: fga_client_rate
        description: "FGA client rate"
      - name: mob
        description: "Months on books"
      - name: orig_yrmo
        description: "Origination year-month"
      - name: total_principal
        description: "Total amount of principal"
      - name: prev_payday
        description: "Previous payday"
      - name: store_name
        description: "Name of the store"
      - name: vertical
        description: "Name of the vertical"
      - name: requested_amount
        description: "Amount requested"
      - name: approved_amount
        description: "Amount approved"
      - name: stage_loan_proposals_t
        description: "Stage of the loan proposals table"
      - name: unpaid_collection_fees
        description: "Total late fees assessed"
      - name: total_collection_fees_paid
        description: "Total late fees paid"
      - name: total_collection_fees_condoned
        description: "Total late fees condoned"
  - name: dm_loan_status_br
    description: "Gold table for loan status - BR"
    columns:
      - name: calculation_date
        description: "Date of the calculation"
      - name: _day
        description: "Day of the calculation"
      - name: _year
        description: "Year of the calculation"
      - name: _month
        description: "Month of the calculation"
      - name: _dt
        description: "Date of the calculation"
      - name: loan_id
        description: "UUID of the loan"
      - name: client_id
        description: "UUID of the client"
      - name: accrued_interest_this_month
        description: "Accrued interest this month"
      - name: applicable_rate
        description: "Applicable rate for the loan"
      - name: condoned_interest_this_month
        description: "Amount of interest condoned this month"
      - name: current_installment_amount
        description: "Amount of the current installment"
      - name: current_interest_covered_this_month
        description: "Amount of interest covered this month"
      - name: current_interest_covered_this_period
        description: "Amount of interest covered this period"
      - name: current_interest_due_this_period
        description: "Amount of interest due this period"
      - name: current_principal_covered_this_month
        description: "Amount of principal covered this month"
      - name: current_principal_due_this_period
        description: "Amount of principal due this period"
      - name: days_past_due
        description: "Days past due"
      - name: full_payment
        description: "Amount of the full payment"
      - name: initial_installment_amount
        description: "Amount of the initial installment"
      - name: interest_condoned_in_first_period
        description: "Amount of interest condoned in the first period"
      - name: interest_on_overdue_principal
        description: "Amount of interest on overdue principal"
      - name: interest_on_overdue_principal_covered_this_month
        description: "Amount of interest on overdue principal covered this month"
      - name: interest_on_overdue_principal_covered_this_period
        description: "Amount on overdue principal covered this period"
      - name: interest_overdue
        description: "Amount of interest overdue"
      - name: interest_overdue_covered_this_month
        description: "Amount of interest overdue covered this month"
      - name: interest_overdue_covered_this_period
        description: "Amount of interest overdue covered this period"
      - name: ipmt
        description: "DESCRIPTION_PLACEHOLDER"
      - name: is_fully_paid
        description: "Boolean indicating if the loan is fully paid"
      - name: min_payment
        description: "Amount of the minimum payment"
      - name: months_on_books
        description: "Number of months on books"
      - name: paid_installments
        description: "Number of paid installments"
      - name: payday
        description: "Day of the payday"
      - name: period_prepayment_benefit
        description: "Period of the prepayment benefit"
      - name: ppmt
        description: "DESCRIPTION_PLACEHOLDER"
      - name: principal_overdue
        description: "Amount of principal overdue"
      - name: principal_overdue_covered_this_month
        description: "Amount of principal overdue covered this month"
      - name: principal_overdue_covered_this_period
        description: "Amount of principal overdue covered this period"
      - name: total_current_interest_condoned
        description: "Total amount of interest condoned"
      - name: total_current_principal_condoned
        description: "Total amount of principal condoned"
      - name: total_interest_overdue_condoned
        description: "Total amount of interest overdue condoned"
      - name: total_interest_paid
        description: "Total amount of interest paid"
      - name: total_moratory_interest_condoned
        description: "Total amount of moratory interest condoned"
      - name: total_payment_applied
        description: "Total amount of payment applied"
      - name: total_prepayment_benefit
        description: "Total amount of prepayment benefit"
      - name: total_principal_overdue_condoned
        description: "Total amount of principal overdue condoned"
      - name: total_principal_paid
        description: "Total amount of principal paid"
      - name: total_unpaid_principal_condoned
        description: "Total amount of unpaid principal condoned"
      - name: unpaid_interest
        description: "Amount of unpaid interest"
      - name: unpaid_principal
        description: "Amount of unpaid principal"
      - name: guarantee_overdue
        description: "Amount of guarantee overdue"
      - name: current_guarantee_due_this_period
        description: "Amount of guarantee due this period"
      - name: unpaid_guarantee
        description: "Amount of unpaid guarantee"
      - name: total_guarantee_paid
        description: "Total amount of guarantee paid"
      - name: guarantee_covered_this_period
        description: "Amount of guarantee covered this period"
      - name: guarantee_covered_this_month
        description: "Amount of guarantee covered this month"
      - name: total_guarantee_condoned
        description: "Total amount of guarantee condoned"
      - name: vintage
        description: "Vintage of the loan"
      - name: channel_str_agg
        description: "Channel of the loan"
      - name: payments_ownership_agg
        description: "Ownership of the payments"
      - name: num_payments
        description: "Number of payments"
      - name: total_pmt
        description: "Total amount of payments"
      - name: principal_pmt
        description: "Total amount of principal payments"
      - name: avg_pmt
        description: "Average amount of payments"
      - name: stdev_pmt
        description: "Standard deviation of payments"
      - name: first_payment_date
        description: "Date of the first payment"
      - name: origination_date
        description: "Date of the origination"
      - name: cancellation_reason
        description: "Reason of the cancellation"
      - name: refinancing_process_start_date
        description: "Date of the refinancing process start"
      - name: refinancing_process_end_date
        description: "Date of the refinancing process end"
      - name: refinancing_process_type
        description: "Type of the refinancing process"
      - name: refinancing_process_annulled
        description: "Boolean indicating if the refinancing process was annulled"
      - name: refinancing_process_annullment_reason
        description: "Reason of the refinancing process annullment"
      - name: refinancing_order
        description: "Order of the refinancing"
      - name: state
        description: "State of the loan"
      - name: loan_proposal_id
        description: "ID of the loan proposal"
      - name: ally_mdf
        description: "MDF of the ally"
      - name: ally_name
        description: "Name of the ally"
      - name: interest_rate
        description: "Interest rate of the loan"
      - name: lbl
        description: "Boolean indicating if the loan is low balance"
      - name: learning_population
        description: "Boolean indicating if the loan is in the learning population"
      - name: decision_npv
        description: "NPV of the decision"
      - name: first_loan_npv
        description: "First loan NPV"
      - name: lifetime_npv
        description: "Lifetime NPV"
      - name: discount_rate
        description: "Discount rate"
      - name: first_loan_roe
        description: "First loan ROE"
      - name: first_loan_cash
        description: "First loan cash"
      - name: lifetime_roe
        description: "Lifetime ROE"
      - name: lifetime_cash
        description: "Lifetime cash"
      - name: contribution_margin
        description: "Contribution margin"
      - name: total_fga_rate
        description: "Total FGA rate"
      - name: fga_comission_rate
        description: "FGA commission rate"
      - name: fga_client_rate
        description: "FGA client rate"
      - name: mob
        description: "Months on books"
      - name: orig_yrmo
        description: "Origination year-month"
      - name: total_principal
        description: "Total amount of principal"
      - name: prev_payday
        description: "Previous payday"
      - name: store_name
        description: "Name of the store"
      - name: vertical
        description: "Name of the vertical"
      - name: requested_amount
        description: "Amount requested"
      - name: approved_amount
        description: "Amount approved"
      - name: stage_loan_proposals_t
        description: "Stage of the loan proposals table"
  - name: dm_client_payments_co
    description: "Gold table for client payments - CO"
    columns:
      - name: payment_date
        description: "Date of the payment"
      - name: processing_date
        description: "Date of the processing"
      - name: payment_id
        description: "UUID of the payment"
      - name: method
        description: "Method of the payment"
      - name: amount
        description: "Amount of the payment"
      - name: client_id
        description: "UUID of the client"
      - name: payment_date_dt
        description: "Date of the payment parsed as a date"
      - name: annulled
        description: "Boolean indicating if the payment was annulled"
      - name: annullment_reason
        description: "Reason of the payment annullment"
      - name: id_number
        description: "ID number of the client"
      - name: payment_ownership
        description: "Ownership of the payment"
      - name: stage
        description: "Stage of the payment"
  - name: dm_collections_master_table_co
    description: "Gold table for Collections dialing team CO"
    columns:
      - name: client_id
        description: "Unique identifier of the client"
      - name: n_loans
        description: "number of loans that the client originated historically"
      - name: number_financia_loans
        description: "number of financia loans the client originated historically"
      - name: number_pago_loans
        description: "number of pago loans the client originated historically"
      - name: dq_loans
        description: "number of delinquent loans"
      - name: client_principal_overdue
        description: "Amount of principal overdue"
      - name: client_interest_overdue
        description: "Amount of interest overdue"
      - name: client_interest_on_overdue_principal
        description: "Amount of interest on principal overdue"
      - name: client_guarantee_overdue
        description: "sum of guarentee overdue"
      - name: client_total_overdue
        description: "sum of total overdue"
      - name: client_full_payment
        description: "sum of full payment"
      - name: client_upb
        description: "sum of client unpaid principal"
      - name: client_opb
        description: "sum of client originated principal"
      - name: client_first_origination
        description: "origination date of the first loan"
      - name: client_last_origination
        description: "origination date of the last loan"
      - name: current_min_dpd
        description: "minimum days past due compared to current date"
      - name: current_max_dpd
        description: "maximum days past due compared to current date"
      - name: current_max_bucket_num
        description: "maximum bucket number"
      - name: current_min_payment
        description: "minimum paid to keep current"
      - name: first_first_payment_date
        description: "first payment date of the first loan"
      - name: last_payment_date
        description: "last payment date recorded"
      - name: days_since_last_payment
        description: "number of days after the last payment"
      - name: n_refinancing
        description: "number of refinancing"
      - name: refinancing_last_start
        description: "start date of the last refinancing"
      - name: refinancing_last_end
        description: "end date of the last refinancing"
      - name: active_refinancing
        description: "is an active refinancing?"
      - name: excluded
        description: "is the client excluded?"
      - name: exclusion_reason
        description: "reason of exclusion"
      - name: last_call_attempt
        description: "date of the last call attempt"
      - name: last_month_call_attempts
        description: "number of attempts in the last month"
      - name: last_direct_contact
        description: "date of the last direct contact"
      - name: last_month_direct_contacts
        description: "number of direct contacts in the last month"
      - name: direct_contact_sufix
        description: "CD, NC or SK tags for collections team"
      - name: Cancelacion_Garantia
        description: "number of days since the last conversation tagged as cancelation or guarantee"
      - name: error_de_marcador
        description: "number of days since the last conversation tagged as dialer error"
      - name: abandono1
        description: "number of days since the last conversation tagged as abandoned"
      - name: titular_cuelga
        description: "number of days since the last conversation tagged as hang up"
      - name: cuelga
        description: "number of days since the last conversation tagged as hang up call"
      - name: llamada_no_completada
        description: "number of days since the last conversation tagged as not completed"
      - name: no_contesta
        description: "number of days since the last conversation tagged as no answer"
      - name: buzon_de_mensajes
        description: "number of days since the last conversation tagged as voicemail"
      - name: equivocado
        description: "number of days since the last conversation tagged as wrong number"
      - name: posible_cancelacion
        description: "number of days since the last conversation tagged as potential cancelation"
      - name: posible_fraude
        description: "number of days since the last conversation tagged as potential fraud"
      - name: ya_pago
        description: "number of days since the last conversation tagged as paid installment"
      - name: recordar_pago
        description: "number of days since the last conversation tagged as remember payment"
      - name: callback
        description: "number of days since the last conversation tagged as callback"
      - name: sin_compromiso
        description: "number of days since the last conversation tagged as sin_compromiso"
      - name: fallecido
        description: "number of days since the last conversation tagged as deceased"
      - name: preventivo
        description: "number of days since the last conversation tagged as prevention"
      - name: promesa_de_pago
        description: "number of days since the last conversation tagged as promise to pay"
      - name: llamada_de_bienvenida
        description: "number of days since the last conversation tagged as welcome call"
      - name: hablo_con_tercero
        description: "number of days since the last conversation tagged as indirect contact"
      - name: congelamiento_cuotas
        description: "number of days since the last conversation tagged as freeze installments"
      - name: addi_plan
        description: "number of days since the last conversation tagged as addi_plan"
      - name: reduccion_cuotas
        description: "number of days since the last conversation tagged as reduce installments"
      - name: condonacion
        description: "number of days since the last conversation tagged as forgiveness"
      - name: promise_status
        description: "status of the last promise"
      - name: promise_expected_amount
        description: "expected amount of the last promise"
      - name: promise_paid_amount
        description: "paid amount of the last promise"
      - name: promises_last_start_date
        description: "start date of the last promise"
      - name: promises_last_end_date
        description: "end date of the last promise"
      - name: active_promise
        description: "is the promise active?"
      - name: last_ally_name
        description: "Name of the ally where the client made the last origination"
      - name: fraud_percentage
        description: "percentage of loans tagged as possible fraud compare to the total loans of that client"
      - name: fraud_flag
        description: "clients that have more than 49% on fraud_percentage are tagged with 1, the rest with 0"
  - name: dm_collections_contact_data_co
    description: "Gold table for Collections contact data dialing team CO"
    columns:
      - name: client_id
        description: "Unique identifier of the client"
      - name: id_number
        description: "Id number of the client"
      - name: application_cellphone
        description: "Cellphone of the last application"
      - name: application_email
        description: "Email of the last application"
      - name: last_application_date
        description: "Date of the last application"
      - name: full_name
        description: "Full name of the client"
      - name: first_name
        description: "First name of the client"
      - name: last_name
        description: "Last name of the client"
  - name: dm_risk_daily_client_data_lastest_available_rc_model_score_co
    description: "Risk team owned table (Manoel Bomfim) - Colombia, for each pair of client_id-calculation_date (which is the daily fincore status of a client) provides the most recent returning client model score available"
    columns:
      - name: country_code
        description: "Country code relative to the client"
      - name: client_id
        description: "UUID of the client"
      - name: daily_client_data_calculation_date
        description: "Fincore calculation date, reference point"
      - name: date_most_recent_score_available
        description: "Date when the most recent returning client model score was available for a particular client, either the same or any day before the daily_client_data_calculation_date"
      - name: most_recen_proba_pd_rc
        description: "Most recent returning client model score available for a particular client in particular daily_client_data_calculation_date"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_risk_daily_returning_client_cupo_co
    description: "Risk team owned table (Manoel Bomfim) - Colombia, daily returning client addi cupo and extra data columns related to risk"
    columns:
      - name: country_code
        description: "Country code relative to the client"
      - name: calculation_date
        description: "Fincore calculation date, reference point"
      - name: client_id
        description: "UUID of the client"
      - name: cohort_month
        description: "Month of Origination"
      - name: cohort_day
        description: "Date of Origination"
      - name: first_product
        description: "Product Type of Origination"
      - name: mob
        description: "Month on Books"
      - name: last_mob_day
        description: "Indicates Last Day Of Month on Books"
      - name: upb
        description: "Unpaid Balance"
      - name: upb_adj
        description: "Unpaid Balance Adjusted"
      - name: dpd
        description: "Days past Due"
      - name: max_prev_dpd
        description: "Maximum of Days Past Due"
      - name: loans_originated
        description: "Check whether Loan is Originated or Not-> 0 Means False & 1 Means True "
      - name: cumulative_loans_mob
        description: "Calculate Cumulative Amount Of Loan Origination on Month Of Books"
      - name: cumulative_loans
        description: "Calculate Cumulative Amount Of Loan Origination"
      - name: gmv_originated
        description: "Calculate gmv(Gross merchandise value) at origination"
      - name: cumulative_gmv_mob
        description: "Calculate Cumulative gmv(Gross merchandise value) on Month on Books"
      - name: cumulative_gmv
        description: "Calculate Cumulative gmv(Gross merchandise value)"
      - name: mdf_originated
        description: "Calculate mdf(merchant discount fee) at origination"
      - name: cumulative_mdf_mob
        description: "Calculate mdf(merchant discount fee) at origination on Month on Books"
      - name: cumulative_mdf
        description: "Calculate Cumulative mdf(merchant discount fee)"
      - name: last_orig_date
        description: "Return us the Last Origination Date at that Calculation Date"
      - name: current_active_loans
        description: "Return us the Current Active Loans"
      - name: unpaid_loans
        description: "Return us the Loans That are Unpaid"
      - name: loans_paid_full
        description: "Check whether Loan is Paid or Not-> 0 Means False & 1 Means True"
      - name: gmv_paid_full
        description: "Amount of gmv(Gross merchandise value) that paid full"
      - name: cancelled_loans_flag
        description: "Amount of loans cancelled"
      - name: addicupo
        description: "addi cupo"
      - name: addicupo_adj
        description: "MAX(addicupo or unpaid balance)"
      - name: available_addicupo
        description: "Available addi cupo "
      - name: available_addicupo_adj
        description: "MAX(addicupo Adjusted or available addicupo)"
      - name: cupo_state
        description: "Current Status of the addi cupo"
      - name: first_dq30_date
        description: "Indicates if Dq30 happen first time "
      - name: prev_dq30
        description: "Indicates if Dq30 on previous dates"
      - name: first_dq60_date
        description: "Indicates if Dq60 happen first time "
      - name: prev_dq60
        description: "Indicates if Dq60 on previous dates"
      - name: first_dq90_date
        description: "Indicates if Dq90 happen first time "
      - name: prev_dq90
        description: "Indicates if Dq90 on previous dates"
      - name: first_dq120_date
        description: "Indicates if Dq120 happen first time "
      - name: prev_dq120
        description: "Indicates if Dq120 on previous dates"
      - name: first_dq30_mob
        description: "Indicates if Dq30 happen first time on MOB wise"
      - name: first_dq60_mob
        description: "Indicates if Dq60 happen first time on MOB wise"
      - name: first_dq90_mob
        description: "Indicates if Dq90 happen first time on MOB wise"
      - name: first_dq120_mob
        description: "Indicates if Dq120 happen first time on MOB wise"
      - name: prev_dq30_mob
        description: "Indicates if Dq30 on previous dates on MOB wise"
      - name: prev_dq60_mob
        description: "Indicates if Dq60 on previous dates on MOB wise"
      - name: prev_dq90_mob
        description: "Indicates if Dq90 on previous dates on MOB wise"
      - name: prev_dq120_mob
        description: "Indicates if Dq120 on previous dates on MOB wise"
      - name: dq30_upb
        description: "indicates the UPB for dq30"
      - name: dq30_upb_mob
        description: "indicates the UPB for dq30 for the mob"
      - name: dq60_upb
        description: "Dindicates the UPB for dq60"
      - name: dq60_upb_mob
        description: "indicates the UPB for dq60 for the mob"
      - name: dq90_upb
        description: "indicates the UPB for dq90"
      - name: dq90_upb_mob
        description: "indicates the UPB for dq90 for the mob"
      - name: dq120_upb
        description: "indicates the UPB for dq120"
      - name: dq120_upb_mob
        description: "indicates the UPB for dq120 for the mob"
      - name: dq30_loans
        description: "Loans reached Dq30"
      - name: dq30_loans_mob
        description: "Loans reached Dq30 MOB wise"
      - name: dq60_loans
        description: "Loans reached Dq60"
      - name: dq60_loans_mob
        description: "Loans reached Dq60 MOB wise"
      - name: dq90_loans
        description: "Loans reached Dq90"
      - name: dq90_loans_mob
        description: "Loans reached Dq90 MOB wise"
      - name: dq120_loans
        description: "Loans reached Dq120"
      - name: dq120_loans_mob
        description: "Loans reached Dq120 MOB wise"
      - name: previous_addicupo_adj
        description: "Previous day addi cupo Adjusted"
      - name: previous_cupo_state
        description: "Previous day addi cupo  State"
      - name: latest_date_before_transaction
        description: "Date when the most recent returning client model score was available for a particular client, either the same or any day before the daily_client_data_calculation_date"
      - name: prob_score_before_transaction
        description: "Most recent returning client model score available for a particular client in particular daily_client_data_calculation_date"
      - name: exposure_status
        description: "Status showing the change in adii cupo over time"
      - name: quantile
        description: "Calculate Quantile of RCPD"
      - name: decile
        description: "Calculate Decile of RCPD"
      - name: twentile
        description: "Calculate Twentile of RCPD"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_data_usage_and_costs_report
    description: "Data Usage and Costs Report"
    columns:
      - name: metric_name
        description: "Name of the metric"
      - name: metric_value
        description: "Value of the metric"
      - name: metric_usd_value
        description: "Value of the metric in USD"
      - name: metric_date
        description: "Date of the metric"
      - name: acum_metric
        description: "Acumulated value of the metric"
      - name: acum_usd_metric
        description: "Acumulated value of the metric in USD"
      - name: budget
        description: "Budget of the metric"
      - name: budget_usd
        description: "Budget of the metric in USD"
      - name: expected_metric
        description: "Expected value of the metric"
      - name: expected_usd_metric
        description: "Expected value of the metric in USD"
      - name: acum_expected_metric
        description: "Acumulated expected value of the metric"
      - name: acum_expected_usd_metric
        description: "Acumulated expected value of the metric in USD"
      - name: periodicity
        description: "Periodicity of the metric"
      - name: start_date
        description: "Start date of the metric"
      - name: end_date
        description: "End date of the metric"
      - name: last_date
        description: "Last date of the metric"
      - name: contract_days
        description: "Days of the contract"
      - name: days_passed
        description: "Days passed of the contract"
      - name: is_last_period
        description: "Boolean, if the period is the last one"
  - name: dm_databricks_usage_by_table
    description: "Databricks usage by table"
    columns:
      - name: schema_table
        description: "Schema name"
      - name: table_name
        description: "Table name"
      - name: n_uses
        description: "Number of uses"
      - name: last_use
        description: "Last use"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_databricks_usage_by_user
    description: "Databricks usage by table"
    columns:
      - name: user_name
        description: "The email address or username of the user who ran the query"
      - name: n_queries
        description: "Number of queries"
      - name: last_user_run
        description: "Last time the user ran a query"
      - name: avg_rows
        description: "Average number of rows returned by the queries"
      - name: avg_duration_sec
        description: "Average duration of the queries in seconds"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_addishop_paying_allies_co
    description: "Martin A. + Data team owned table - CO - It contains the historical lead_gen_fee of the allies that have the Addi Shop contract active"
    columns:
      - name: ally_name
        description: "Name of ally"
      - name: start_date
        description: "Contract validity start date Addi Shop"
      - name: end_date
        description: "Contract validity end date Addi Shop"
      - name: lead_gen_fee
        description: "Fee that is charged to the ally for each origination through the Addi Shop media"
      - name: current_status
        description: "Status of Addi Shop contract (Active/Inactve)"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: grouped_allies
        description: "List of allies linked to the main ally. This are allies that will be charged with the same LGF as the main one if clients click in main"
      - name: hours_for_attribution
        description: "Custom hours of attribution between the Shopping Intent and the ApplicationCreated in order to charge LGF"
      - name: ally_shop_slug_associated
        description: "Ally that will be used to link the Shopping Intent besides the main ally_slug configured. Ie. if the click is in the ecommerce but the origination in the in_store we can attribute the origination by using the associated slug"
  - name: dm_risk_returning_client_risk_units_co
    description: "Risk team owned table (Manoel Bomfim) - Colombia, returning client risk units and extra data columns related to risk"
    columns:
      - name: country_code
        description: "Country code relative to the client"
      - name: application_id
        description: "Provide us the application id"
      - name: loan_id
        description: "Return us the loan id when loan is generated"
      - name: loan_originated
        description: "Return boolean value whether loan is originated or not"
      - name: Prospect_id
        description: "Provide us the id of our client"
      - name: store_user_id
        description: "Provide us the id of store"
      - name: application_date_time
        description: "Provide us the application date and time"
      - name: d_vintage
        description: "Provide us the application date"
      - name: w_vintage
        description: "Provide us the application starting week date"
      - name: m_vintage
        description: "Provide us the application month"
      - name: q_vintage
        description: "Provide us the application quarter"
      - name: product
        description: "Describes the product type"
      - name: amount
        description: "Amount that is requested"
      - name: approved_amount
        description: "Amount that is approved "
      - name: remaining_addicupo
        description: "shows us the remaining addicupo"
      - name: requested_amount
        description: "Amount requested"
      - name: amount_before_discount
        description: "Amount before any discount"
      - name: preapproval_amount
        description: "Amount that is preapproved"
      - name: term
        description: "Number of terms of loans"
      - name: latest_date_before_transaction
        description: "Return us the last date of transaction"
      - name: RC_PD_score_before_transaction
        description: "Return us the Returning client score just before transaction"
      - name: current_total_addicupo
        description: "Return us the total addicupo"
      - name: total_addicupo_during_loan
        description: "Shows us the total addicupo during loan"
      - name: current_remaining_addicupo
        description: "Shows us the remaining addicupo"
      - name: remaining_addicupo_during_loan
        description: "Shows us the remaining addicupo during loan"
      - name: current_addicupo_last_update
        description: "Return us the date of addicupo last update"
      - name: addicupo_last_update_during_loan
        description: "return the date of addicupo last update during loan"
      - name: current_addicupo_state_v2
        description: "shows us the current state of addicupo"
      - name: addicupo_state_v2_during_loan
        description: "shows us the stae of addicupo during loan"
      - name: current_addicupo_state_v2_reason
        description: "give the reason of addicupo state"
      - name: addicupo_state_v2_reason_during_loan
        description: "give the reason of addicupo state during loan"
      - name: is_transactional_based
        description: "return us the boolean values if transaction based  "
      - name: first_risk
        description: "shows us the first risk level "
      - name: interest_rate
        description: "Give us the interest rate "
      - name: mdf
        description: "Return us the merchant discount fee in percentage"
      - name: fga
        description: "return us the fga in percentage"
      - name: fga_effective
        description: "return the fga effective"
      - name: ally_slug
        description: "give the name of the ally slug "
      - name: ally_name
        description: "return us the name of the ally"
      - name: store_name
        description: "return us the name of the store"
      - name: ally_brand
        description: "showns the the brand of ally"
      - name: ally_vertical
        description: "shows us the name of ally vertical"
      - name: ally_is_terminated
        description: "Return us the boolean value whether ally is terminated or not"
      - name: ally_terminated_date
        description: "Return us the ally termination date"
      - name: ally_region
        description: "shows us the region of ally"
      - name: id_exp_city
        description: "Id of city"
      - name: id_exp_region
        description: "Id of region"
      - name: addi_pd_multiplied
        description: "Probability of default with multipliers"
      - name: addi_pd
        description: "Probability of default without multipliers"
      - name: pd_multiplier
        description: "Probability of default multiplier"
      - name: bureau_pd
        description: "Probability of default from bureau"
      - name: credit_score
        description: "give us credit score"
      - name: credit_score_name
        description: "Credit score name"
      - name: journey_name
        description: "Journey name of application"
      - name: journey_stage_name
        description: "Journey and stage name of application"
      - name: stage
        description: "Stage of the application"
      - name: journey_stages
        description: "Journey stages of the application"
      - name: stages
        description: "All the stages of the application"
      - name: credit_status_reason
        description: "Credit status reason"
      - name: credit_policy_name
        description: "credit policy name"
      - name: campaign_id
        description: "Campaign id"
      - name: marketing_channel
        description: "Substring from campaign id"
      - name: ia_loan
        description: "Indicates if its a ia loan"
      - name: client_type
        description: "return us the client tpye"
      - name: imply_agg
        description: "Aggregation from Imply"
      - name: preapproval_client
        description: "Indicates if client was preapproved before"
      - name: preapproval_application
        description: "Indicates if application was preapproved"
      - name: application_channel
        description: "Channel of the application"
      - name: application_number
        description: "Number of application by client"
      - name: loan_number
        description: "Number of loan by client"
      - name: classification_at_origination
        description: "Client type for origination"
      - name: current_status_calc_date
        description: "Calculation date from loan status table"
      - name: mob
        description: "Month of books"
      - name: is_fully_paid
        description: "give us boolean value whether a person fully paid or not"
      - name: fully_paid_date
        description: "date at which amount is fully paid"
      - name: n_previous_fully_paid_loans
        description: "Number of fully paid loans previous to this application"
      - name: is_cancelled
        description: "Indicates if loan was cancelled"
      - name: cancellation_date
        description: "Cancellation date if loan was cancelled"
      - name: cancellation_reason
        description: "Cancellation reason"
      - name: fraud_write_off
        description: "If cancellation reason is fraud write off, its the approved amount"
      - name: paid_installments
        description: "Paid Installments from loan status"
      - name: total_principal_paid
        description: "Amount of total principal paid"
      - name: days_past_due
        description: "Days past due from loan status"
      - name: unpaid_principal
        description: "Unpaid principal amount"
      - name: unpaid_interest
        description: "unpaid interest amount"
      - name: unpaid_guarantee
        description: "Unpaid guarantee from loan status"
      - name: principal_condoned
        description: "Principal condoned from loan status"
      - name: interest_condoned
        description: "Interest condoned from loan status"
      - name: guarantee_condoned
        description: "Guarantee condoned from loan status"
      - name: max_days_past_due
        description: "Max days past due in every loan"
      - name: dq_buckets
        description: "Buckets built with days past due and first payment date"
      - name: first_payment_date
        description: "Return us the first payment date"
      - name: FP_date_plus_1_day
        description: "First payment date plus 1 day"
      - name: FP_date_plus_5_day
        description: "First payment date plus 5 days"
      - name: FP_date_plus_10_day
        description: "First payment date plus 10 days"
      - name: FP_date_plus_15_day
        description: "First payment date plus 15 days"
      - name: FP_date_plus_1_month
        description: "First payment date plus 1 months"
      - name: FP_date_plus_2_month
        description: "First payment date plus 2 months"
      - name: FP_date_plus_3_month
        description: "First payment date plus 3 months"
      - name: FP_date_plus_4_month
        description: "First payment date plus 4 months"
      - name: FP_date_plus_5_month
        description: "First payment date plus 5 months"
      - name: FP_date_plus_6_month
        description: "First payment date plus 6 months"
      - name: DPD_plus_1_day
        description: "Days past due to buckets for fpd plus 1 day"
      - name: DPD_plus_5_day
        description: "Days past due to buckets for fpd plus 5 days"
      - name: DPD_plus_10_day
        description: "Days past due to buckets for fpd plus 10 days"
      - name: DPD_plus_15_day
        description: "Days past due to buckets for fpd plus 15 days"
      - name: DPD_plus_1_month
        description: "Days past due to buckets for fpd plus 1 month"
      - name: DPD_plus_2_month
        description: "Days past due to buckets for fpd plus 2 months"
      - name: DPD_plus_3_month
        description: "Days past due to buckets for fpd plus 3 months"
      - name: DPD_plus_4_month
        description: "Days past due to buckets for fpd plus 4 month"
      - name: DPD_plus_5_month
        description: "Days past due to buckets for fpd plus 5 months"
      - name: DPD_plus_6_month
        description: "Days past due to buckets for fpd plus 6 months"
      - name: UPB_plus_1_day
        description: "Unpaid principal for fpd plus 1 day"
      - name: UPB_plus_5_day
        description: "Unpaid principal for fpd plus 5 days"
      - name: UPB_plus_10_day
        description: "Unpaid principal for fpd plus 10 days"
      - name: UPB_plus_15_day
        description: "Unpaid principal for fpd plus 15 days"
      - name: UPB_plus_1_month
        description: "Unpaid principal for fpd plus 1 months"
      - name: UPB_plus_2_month
        description: "Unpaid principal for fpd plus 2 months"
      - name: UPB_plus_3_month
        description: "Unpaid principal for fpd plus 3 months"
      - name: UPB_plus_4_month
        description: "Unpaid principal for fpd plus 4 months"
      - name: UPB_plus_5_month
        description: "Unpaid principal for fpd plus 5 months"
      - name: UPB_plus_6_month
        description: "Unpaid principal for fpd plus 6 months"
      - name: quantile
        description: "return rcpd quantile"
      - name: decile
        description: "return rcpd decile"
      - name: twentile
        description: "return rcpd twentile"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_originations_last_event_priority_on_termination_br
    description: "2023Q2 - Funnel to Looker - Key: application_id; Applications last event data when prioritizing global termination events over inner-stage termination events over actual last event; some extra columns for debugging"
    columns:
      - name: application_id
        description: "UUID of the application"
      - name: client_id
        description: "UUID of the client"
      - name: journey_name
        description: "Application journey name"
      - name: last_event_type
        description: "Type of the last event"
      - name: last_journey_stage_name
        description: "Journey stage name of the last event"
      - name: last_event_name
        description: "Shortened name of the last event"
      - name: last_event_id
        description: "Event ID of the last event"
      - name: last_ocurred_on
        description: "Occurred on timestamp of the last event - in UTC"
      - name: last_ocurred_on_brt
        description: "Occurred on timestamp of the last event - in BRT"
      - name: debug_termination_source
        description: "Debugging column. One of the literal options: termination_only, all, no_termination_yet"
      - name: debug_num_events
        description: "Number of originations_v2 domain events the applications has gone through"
      - name: debug_first_event_category
        description: "Debugging column. One of the literal options: no_application_created, only_application_created, standard"
      - name: debug_first_event
        description: "Debugging column. Struct with some extra data from the first event of an application"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_originations_last_event_priority_on_termination_co
    description: "2023Q2 - Funnel to Looker - Key: application_id; Applications last event data when prioritizing global termination events over inner-stage termination events over actual last event; some extra columns for debugging"
    columns:
      - name: application_id
        description: "UUID of the application"
        tests:
          - unique
          - not_null
      - name: client_id
        description: "UUID of the client"
        tests:
          - not_null
      - name: journey_name
        description: "Application journey name"
      - name: last_event_type
        description: "Type of the last event"
      - name: last_journey_stage_name
        description: "Journey stage name of the last event"
      - name: last_event_name
        description: "Shortened name of the last event"
      - name: last_event_id
        description: "Event ID of the last event"
      - name: last_ocurred_on
        description: "Occurred on timestamp of the last event - in UTC"
      - name: last_ocurred_on_cot
        description: "Occurred on timestamp of the last event - in COT"
      - name: debug_termination_source
        description: "Debugging column. One of the literal options: termination_only, all, no_termination_yet"
      - name: debug_num_events
        description: "Number of originations_v2 domain events the applications has gone through"
      - name: debug_first_event_category
        description: "Debugging column. One of the literal options: no_application_created, only_application_created, standard"
      - name: debug_first_event
        description: "Debugging column. Struct with some extra data from the first event of an application"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_daily_customer_segmentation_co
    description: "2023Q2 - Daily customer segmentation snapshot for Colombia"
    columns:
      - name: calculation_date
        description: "Calculation date"
      - name: country
        description: "Country"
      - name: client_id
        description: "UUID of the client"
      - name: n_applications
        description: "Number of total applications"
      - name: n_applications_last_week
        description: "Number of applications in the last week"
      - name: n_applications_last_month
        description: "Number of applications in the last month"
      - name: last_application_date
        description: "Last application date"
      - name: n_slugs
        description: "Number of total slugs"
      - name: n_different_slugs
        description: "Number of different slugs"
      - name: n_different_verticals
        description: "Number of different verticals"
      - name: estimated_income
        description: "Estimated income - KYC data"
      - name: last_ammount_loan
        description: "Last ammount loan"
      - name: last_slug
        description: "Last slug"
      - name: last_vertical
        description: "Last vertical"
      - name: first_slug
        description: "First slug"
      - name: first_vertical
        description: "First vertical"
      - name: first_origination_date
        description: "Date of the first origination"
      - name: last_origination_date
        description: "Date of the last origination"
      - name: n_active_days
        description: "Number of active days"
      - name: n_active_loans
        description: "Number of active loans"
      - name: remaining_addicupo
        description: "Remaining addicupo"
      - name: addicupo_state
        description: "Addicupo state"
      - name: addicupo_last_update
        description: "Addicupo last update"
      - name: first_installment_paid_date
        description: "Date of the first installment paid"
      - name: first_fully_paid_loan_date
        description: "Date of the first fully paid loan"
      - name: max_days_past_due
        description: "Max days past due"
      - name: installment_paid_in_delinquency_n
        description: "Number of installment paid in delinquency"
      - name: installment_paid_in_delinquency_proportion
        description: "Proportion of installment paid in delinquency"
      - name: first_contact
        description: "First contact"
      - name: n_originations
        description: "Number of total originations"
      - name: n_originations_last_week
        description: "Number of originations in the last week"
      - name: n_originations_last_month
        description: "Number of originations in the last month"
      - name: n_pago_originated_loans
        description: "Number of pago originated loans"
      - name: total_GMV_originated
        description: "Total GMV originated"
      - name: avg_ammount_loan
        description: "Average ammount loan"
      - name: max_ammount_loan
        description: "Max ammount loan"
      - name: n_eccom_originated_loans
        description: "Number of eccom originated loans"
      - name: n_physical_originated_loans
        description: "Number of physical originated loans"
      - name: originations_last_30_days
        description: "Number of originations in the last 30 days"
      - name: originations_last_90_days
        description: "Number of originations in the last 90 days"
      - name: originations_last_90_180_days
        description: "Number of originations in the last 90-180 days"
      - name: originations_more_180_days_ago
        description: "Number of originations more than 180 days ago"
      - name: avg_time_next_loan
        description: "Average time to next loan"
      - name: app_sessions_in_calculation_month
        description: "Number of app sessions in the calculation month"
      - name: app_sessions_last_30_days
        description: "Number of app sessions in the last 30 days"
      - name: app_days_opened_last_30_days
        description: "Number of app days opened in the last 30 days"
      - name: app_sessions
        description: "Number of app sessions"
      - name: app_days_opened
        description: "Number of app days opened"
      - name: client_category
        description: "Client category"
  - name: dm_applications
    description: "AE - V1 Datamart for applications"
    columns:
      - name: country_code
        description: "Code of the country (BR or CO)"
      - name: application_id
        description: "UUID of the application"
      - name: client_id
        description: "UUID of the client or prospect"
      - name: application_datetime
        description: "Timestamp when application started - UTC"
      - name: application_datetime_local
        description: "Timestamp when application started - localized to country"
      - name: application_date_local
        description: "Timestamp when application started - localized to country, transformed to date"
      - name: application_channel
        description: "Channel the application went through - Ally mgmt domain (originationsv2 + legacy)"
      - name: synthetic_channel
        description: "Custom application_channel grouping - Business logic from gold.bl_application_channel"
      - name: ally_slug
        description: "Slug of the ally"
      - name: suborders_ally_slug_array
        description: "Application list of suborder allies (only applicable (>0) for marketplace transactions) - Ordered and validated only for marketplace applications"
      - name: store_slug
        description: "Slug of the store"
      - name: ally_brand
        description: "Brand slug of the ally"
      - name: ally_vertical
        description: "Vertical slug of the ally - Business logic from gold.bl_ally_brand_ally_slug_status"
      - name: ally_cluster
        description: "Ally cluster (KA/SMB) according to the CRM ally status - Business logic from gold.bl_ally_brand_ally_slug_status"
      - name: account_kam_name
        description: "Salesforce KAM User Name"
      - name: order_id
        description: "Unique identifier of the order"
      - name: device_id
        description: "id of the device"
      - name: client_type
        description: "Type of the client"
      - name: custom_platform_version
        description: "Label for originations_v2/legacy application flow"
      - name: journey_name
        description: "Application journey name"
      - name: original_product
        description: "Original application product (only originations v2) - Business logic from gold.bl_application_product_co/br"
      - name: processed_product
        description: "Processed application product - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_category
        description: "Processed application product category - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_subcategory
        description: "Processed application product sub-category - Business logic from gold.bl_application_product_co/br"
      - name: requested_amount
        description: "Requested amount of each application"
      - name: requested_amount_without_discount
        description: "Application’s requested amount disregarding the discount applied"
      - name: synthetic_requested_amount
        description: "Requested amount prioritizing requested_amount_without_discount over requested_amount when the former is available"
      - name: last_event_type_prime
        description: "Last event type of the applications, pre-processed to get a better fit with actual business situation"
      - name: last_journey_stage_name_prime
        description: "Last event journey stage name of the applications, pre-processed to get a better fit with actual business situation"
      - name: last_event_name_prime
        description: "Last event name of the applications, pre-processed to get a better fit with actual business situation"
      - name: last_event_id_prime
        description: "Last event id of the applications, pre-processed to get a better fit with actual business situation"
      - name: campaign_id
        description: "Marketing's campaign ID"
      - name: store_user_id
        description: "Store user ID of each application"
      - name: status_ally_brand
        description: "Status for the ally_brand according to the CRM ally status - gold.bl_ally_brand_ally_slug_status"
      - name: status_ally_slug
        description: "Status for the ally_slug according to the CRM ally status - gold.bl_ally_brand_ally_slug_status"
      - name: is_using_preapproval_proxy
        description: "Custom boolean flag - based on a custom criteria - in which we proxy if the application is using previously completed (and still valid) preapproved cupo in this application"
      - name: preapproval_amount
        description: "Approved amount limit for preapproval applications"
      - name: preapproval_expiration_date
        description: "Expiration date of the preapproval amount"
      - name: custom_is_preapproval_completed
        description: "Custom boolean flag for successful preapproved applications"
      - name: custom_is_bnpn_branched
        description: "Custom boolean flag for applications that are going through BNPN journey"
      - name: custom_is_checkpoint_application
        description: "Custom boolean flag for applications that are considered to be as checkpoint applications"
      - name: custom_is_preapproval_application
        description: "Custom boolean flag for applications that are considered to be as checkpoint applications"
      - name: custom_is_santander_branched
        description: "Custom boolean flag for applications that are going through Santander journey and pass their Risk Evaluation"
      - name: declination_reason
        description: "Application declination reason"
      - name: declination_comments_redacted
        description: "Application declination comment where the links are transformed to a REDACTED"
      - name: is_addishop_referral
        description: "Flag that indicates if the application started in Shop"
      - name: addishop_channel
        description: "Shop channel where the shopping intent was performed"
      - name: is_addishop_referral_paid
        description: "Flag that indicates if the shop application was made at a Shop paying merchant"
      - name: addishop_opt_in_date
        description: "Slug´s Shop opt_in date at the time of the application if its a shop_referral_paid TRUE"
      - name: addishop_opt_out_date
        description: "Slug´s Shop opt_out date at the time of the application if its a shop_referral_paid TRUE"
      - name: lead_gen_fee_rate
        description: "Lead Gen Fee rate if the application is shop_referral_paid TRUE"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: bl_ally_brand_ally_slug_status
    description: "Business logic table for allies status"
    columns:
      - name: country_code
        description: "Code of the country (BR or CO)"
      - name: ally_slug
        description: "Slug of the ally"
        tests:
          - unique
          - not_null
      - name: ally_brand
        description: "Brand of the ally"
      - name: ally_vertical
        description: "Slug of the ally"     
      - name: ally_cluster
        description: "Cluster of the ally (SMB or KA)"
      - name: status_ally_slug
        description: "Status slug of the ally"
      - name: status_ally_brand
        description: "Status brand of the ally"
      - name: close_date
        description: "date when the ally start operating with addi"
      - name: slug_first_app_date
        description: "date of the first application in the ally slug"
      - name: debug_data
        description: "Field used to get different fields useful to debug possible errors"
      - name: account_kam_name
        description: "Salesforce KAM User Name"
      - name: account_kam_email
        description: "Salesforce KAM User Email"
      - name: account_pod
        description: "Salesforce POD category"
      - name: opportunity_amount
        description: "Salesforce Opportunity amount - seen in the UI as: Addi Potential GMV"
  - name: dm_addishop_click_origination_funnel
    description: "App clicks and AddiShop origination info"
    columns:
      - name: client_id
        description: "Unique identifier of the user"
      - name: event_date
        description: "Date when the click was performed"      
      - name: session_id
        description: "Unique identifier of the App session"
        tests:
          - not_null
      - name: unique_id
        description: "Unique id for the event made with surrogate_key based on event_time, session_id and event_id"
        tests:
          - not_null
      - name: ally_slug
        description: "Name of the ally slug clicked in the App"
      - name: ally_brand
        description: "Brand of the ally slug clicked in the App"
      - name: ally_cluster
        description: "Cluster of the ally slug clicked in the App"
      - name: ally_vertical
        description: "Vertical of the ally slug clicked in the App"
      - name: event_type
        description: "Type of the event performed in the App"
      - name: screen_name
        description: "Name of the App screen where the click was performed"
      - name: component_name
        description: "Name of the App component name where the click was performed"
      - name: category_name
        description: "Name of the Category Name where the click was performed"
      - name: sub_category_name
        description: "Name of the SubCategory Name name where the click was performed"
      - name: click_position
        description: "Position of the ally clicked"     
      - name: is_last_click_application
        description: "Flag to indicate whether it was the last click before the shop application"              
      - name: application_id
        description: "Id of the application if the click generated an origination"
      - name: application_datetime
        description: "Date of the application in UTC timezone"
      - name: application_datetime_local
        description: "Date of the application in local timezone"
      - name: application_is_addishop_referral
        description: "Boolean indicating whether the application started in the app or not"
      - name: application_is_addishop_referral_paid
        description: "Boolean indicating whether the AddiShop application was performed by a paying member at the time of the application or not"
      - name: loan_id
        description: "Id of the loan if the click generated an origination"
      - name: origination_is_addishop_referral
        description: "Boolean indicating whether the origination started in the app or not"
      - name: origination_is_addishop_referral_paid
        description: "Boolean indicating whether the AddiShop origination was performed by a paying member at the time of the origination or not"
      - name: lead_gen_fee_rate
        description: "LGF rate that the paying merchant is paying at the time of the origination"
      - name: gmv_usd
        description: "GMV in USD"      
      - name: lead_gen_fee_amount_usd
        description: "Shop Revenue in USD"    
      - name: origination_date
        description: "Date of the origination in UTC timezone"
      - name: origination_date_local
        description: "Date of the origination in local timezone"   
  - name: bl_application_preapproval_proxy
    description: "Business Logic Table to flag applications that are estimated to use previously approved addi cupo"
    columns:
      - name: country_code
        description: "Code of the country (BR or CO)"
      - name: application_id
        description: "UUID of the application"
      - name: debug_data
        description: "Complex object containing relevant data for debugging purposes by the Data team"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
      - name: apps_no_preapp
        description: "Number of apps before preapproval"
  - name: bl_application_channel
    description: "Business Logic Table to provide additional information channel-wise for applications"
    columns:
      - name: country_code
        description: "Code of the country (BR or CO)"
      - name: application_id
        description: "UUID of the application"
      - name: application_channel
        description: "Channel the application went through - Ally mgmt domain (originationsv2 + legacy)"
      - name: synthetic_channel
        description: "Custom application_channel grouping"
      - name: debug_data
        description: "Complex object containing relevant data for debugging purposes by the Data team"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: bl_application_product_br
    description: "Business Logic Table to provide a single source-of-truth for segmenting ADDI products for all data needs - BR applications only"
    columns:
      - name: application_id
        description: "UUID of the application"
      - name: original_product
        description: "Also known as the originationsV2 application product. The raw value coming in the application-journey events."
      - name: processed_product
        description: "Processed application product -Considers legacy originations and originations v2 products, remaps some products under certain conditions and handles scenarios in which there is lag in the ingestion process or there are errors in the raw data."
      - name: synthetic_product_category
        description: "Considers the processed product and remaps it to the ADDI 2.0 product categories."
      - name: synthetic_product_subcategory
        description: "Considers the synthetic product category, brings a more precise segmentation to ADDI 2.0 product categories."
      - name: debug_is_ok
        description: "Quality verification flag for debugging purposes by the Data team"
      - name: debug_data
        description: "Complex object containing relevant data for debugging purposes by the Data team"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: bl_application_product_co
    description: "Business Logic Table to provide a single source-of-truth for segmenting ADDI products for all data needs - CO applications only"
    columns:
      - name: application_id
        description: "UUID of the application"
        tests:
          - unique
          - not_null
      - name: original_product
        description: "Also known as the originationsV2 application product. The raw value coming in the application-journey events."
      - name: processed_product
        description: "Processed application product -Considers legacy originations and originations v2 products, remaps some products under certain conditions and handles scenarios in which there is lag in the ingestion process or there are errors in the raw data."
        tests:
          - not_null
      - name: synthetic_product_category
        description: "Considers the processed product and remaps it to the ADDI 2.0 product categories."
        tests:
          - not_null
      - name: synthetic_product_subcategory
        description: "Considers the synthetic product category, brings a more precise segmentation to ADDI 2.0 product categories."
        tests:
          - not_null
      - name: debug_is_ok
        description: "Quality verification flag for debugging purposes by the Data team"
      - name: debug_data
        description: "Complex object containing relevant data for debugging purposes by the Data team"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: bl_application_addi_shop_co
    description: "Business Logic Table to provide flags relevant to originations and whether or not they were influenced by the addi shop experience of the client"
    columns:
      - name: client_id
        description: "UUID of the client"
      - name: ally_slug
        description: "Name of the ally slug where the application was made"
      - name: country_code
        description: "Code of the country (BR or CO)"
      - name: loan_id
        description: "UUID of the application"
      - name: application_id
        description: "UUID of the application"
        tests:
          - unique
          - not_null
      - name: is_addishop_referral
        description: "Indicates whether the transaction started in a Shop channel or not"
      - name: is_addishop_referral_paid
        description: "Indicates whether the shop transaction was charged with LGF or not"
      - name: used_grouped_config
        description: "Indicates whether the attribution was due to a grouped slug (ie. in-store attribution) or not"
      - name: lead_gen_fee_rate
        description: "LGF rate applied if the transaction was referral paid TRUE"
      - name: addishop_channel
        description: "Channel where the transaction was referred (APP, SMS, WA, E-MAIL, WEB, etc.)"
      - name: addi_shop_ally_period_opt_in_date
        description: "Period where the ally opted in in Shop"
      - name: addi_shop_ally_period_opt_in_date
        description: "Period where the ally opted out in Shop"
      - name: debug_data
        description: "Complex object containing relevant data for debugging purposes by the Data team"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_originations
    description: "AE - V1 Datamart for originations"
    columns:
      - name: country_code
        description: "Code of the country (BR or CO)"
      - name: loan_id
        description: "UUID of the loan"
        tests:
          - not_null
      - name: application_id
        description: "UUID of the application"
        tests:
          - not_null
      - name: order_id
        description: "Unique identifier of the order"
      - name: client_id
        description: "UUID of the client or prospect"
        tests:
          - not_null
      - name: origination_date
        description: "Timestamp when application started - UTC"
        tests:
          - not_null
      - name: origination_date_local
        description: "Timestamp when application started - localized to country"
      - name: origination_hour_local
        description: "hour when application started - localized to country"
      - name: origination_minute_local
        description: "minute when application started - localized to country"
      - name: approved_amount
        description: "Approved amount of each loan"
      - name: approved_amount_filtered_for_losses
        description: "Approved amount of each loan filtering only loans with expected losses not null"
      - name: guarantee_expected_loss_recovery_amount
        description: "Guarantee expected recovery losses due to FNG policy"
      - name: gross_expected_final_losses
        description: "Expected final losses amount without discounting FNG recovery"
      - name: requested_amount
        description: "Requested amount prioritizing requested_amount_without_discount over requested_amount when the former is available"
      - name: gmv
        description: "Requested amount prioritizing requested_amount_without_discount over requested_amount when the former is available"
      - name: guarantee_rate
        description: "Loan FGA rate accepted by the client at loan proposal stage"
      - name: guarantee_provider_with_default
        description: "Guarantee provider, FNG or FGA"
      - name: fng_cost_amount
        description: "For FNG: (o.approved_amount * ff.fng_cost_rate) + (o.approved_amount * (guarantee_rate * ((1/(1+fga_tax_rate)) * fga_tax_rate)))"
      - name: guarantee_amount
        description: "(guarantee_rate * requested_amount) * (1/1.19) * 0.9 * (1 - expected_loss_rate)"
      - name: guarantee_amount_without_accounting_for_losses
        description: "(guarantee_rate * approved_amount)"
      - name: interest_rate
        description: "Loan interest rate accepted by the client at loan proposal stage"
      - name: total_interest
        description: "interest_rate * requested_amount) * (1 - expected_loss_rate)"
      - name: consumer_revenue
        description: "total_interest"
      - name: is_addishop_referral
        description: "Boolean to indicate weather the loan was started in Addishop channel (App/Web/Email/WA/etc)"
      - name: addishop_channel
        description: "App/Web/Email/WA/etc"
      - name: is_addishop_referral_paid
        description: "Boolean to indicate weather the loan was started in Addishop channel & the merchant is paying the Addishop fee"
      - name: shop_used_grouped_config
        description: "Indicates whether the attribution was due to a grouped slug (ie. in-store attribution) or not"
      - name: addishop_opt_in_date
        description: "Merchant paying the Addishop fee start date"
      - name: addishop_opt_out_date
        description: "Merchant paying the Addishop fee end date"
      - name: lead_gen_fee_rate
        description: "Fee applied to the Addishop referral paid transaction"
      - name: lead_gen_fee_amount
        description: "lead_gen_fee_rate * requested_amount"
      - name: ally_mdf
        description: "Loan Fee applied to the merchant"
      - name: mdf_amount
        description: "ally_mdf * requested_amount"
      - name: synthetic_origination_marketplace_purchase_fee
        description: "Applicable to marketplace originations only - percentage - this is a recalculation based on each suborder individual marketplace purchase fee multiplied by its total amount, divided by the sum of all suborders total amounts"
      - name: synthetic_origination_marketplace_purchase_fee_amount
        description: "Applicable to marketplace originations only - money amount - this is a recalculation based on each suborder individual marketplace purchase fee multiplied by its total amount, divided by the sum of all suborders total amounts"
      - name: merchant_revenue
        description: "lead_gen_fee_amount + mdf_amount + synthetic_origination_marketplace_purchase_fee_amount (new 2023-03)"
      - name: expected_collection_fee_amount
        description: "expected late fee amount"
      - name: total_revenue
        description: "consumer_revenue + merchant_revenue + expected_collection_fee_amount"
      - name: fx_rate
        description: "Currency exchange rate (BRL to USD / COP to USD)"
      - name: lbl
        description: "DESCRIPTION_PLACEHOLDERs"
      - name: term
        description: "Number of installments"
      - name: client_type
        description: "Type of the client"
      - name: segment
        description: "Good Book / Bad Book client (only BR)"
      - name: journey_name
        description: "Application journey name"
      - name: application_channel
        description: "Channel of the application"
      - name: synthetic_channel
        description: "Custom application_channel grouping - Business logic from gold.bl_application_channel"
      - name: credit_policy_name
        description: "DESCRIPTION_PLACEHOLDERs"
      - name: original_product
        description: "Original application product (only originations v2) - Business logic from gold.bl_application_product_co/br"
      - name: processed_product
        description: "Processed application product - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_category
        description: "Processed application product category - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_subcategory
        description: "Processed application product sub-category - Business logic from gold.bl_application_product_co/br"
      - name: santander_branched
        description: "Custom boolean flag for applications that are going through Santander journey and pass their Risk Evaluation"
      - name: santander_origination
        description: "Custom boolean flag for originations that are going through Santander journey and were originated"
      - name: pd_calculation_method
        description: "DESCRIPTION_PLACEHOLDERs"
      - name: ally_slug
        description: "Slug of the ally"
      - name: suborders_ally_slug_array
        description: "Origination list of suborder allies (only applicable (>0) for marketplace transactions) - Ordered and validated only for marketplace originations"
      - name: synthetic_origination_marketplace_purchase_fee
        description: "Origination a-posteriori calculated marketplace purchase fee - weighted percentage, basically SUM(suborder_marketplace_purchase_fee * synthetic_suborder_total_amount) divided by the SUM(synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: synthetic_origination_marketplace_purchase_fee_amount
        description: "Origination a-posteriori calculated marketplace purchase fee amount - basically the SUM(suborder_marketplace_purchase_fee * synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: store_slug
        description: "Slug of the store"
      - name: ally_vertical
        description: "Vertical slug of the ally - Business logic from gold.bl_ally_brand_ally_slug_status"
      - name: ally_brand
        description: "Brand slug of the ally"  
      - name: ally_cluster
        description: "Ally cluster (KA/SMB) according to the CRM ally status - Business logic from gold.bl_ally_brand_ally_slug_status"
      - name: account_kam_name
        description: "Salesforce KAM User Name"
      - name: dq31_at_31_upb
        description: "deliquency 31 at 31 unpaid principal balance"
      - name: dq31_at_31_opb
        description: "deliquency 31 at 31 origination principal balance"
      - name: dq31_at_31_date
        description: "deliquency 31 at 31 date"
      - name: expected_final_losses
        description: "Losses expected at the time of origination"
      - name: loan_payment_date
        description: "Ally loan payment date"
      - name: ally_report_term
        description: "DAILY/WEEKLY/MONTHLY ally report term"
      - name: ally_payment_term
        description: "Days between the loan and the ally payment (only applies to daily report term)"
      - name: ally_diff_payment_date
        description: "Days between the origination date and the ally payment date"
      - name: has_fga_flag
        description: "Flag that tell us when the loan has fga"    
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: agg_originations_metrics
    description: "AE - Aggregate table from Datamart dm_originations"
    columns:
      - name: country_code
        description: "Code of the country (BR or CO)"
      - name: period_date
        description: "Timestamp when application started casted on DATE format - localized to country"
      - name: client_type
        description: "Type of the client"
      - name: application_channel
        description: "Channel of the application"
      - name: synthetic_channel
        description: "Custom application_channel grouping - Business logic from gold.bl_application_channel"
      - name: processed_product
        description: "Processed application product - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_category
        description: "Processed application product category - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_subcategory
        description: "Processed application product sub-category - Business logic from gold.bl_application_product_co/br"
      - name: is_addishop_referral
        description: "Boolean to indicate weather the loan was started in Addishop channel (App/Web/Email/WA/etc)"
      - name: is_addishop_referral_paid
        description: "Boolean to indicate weather the loan was started in Addishop channel & the merchant is paying the Addishop fee"
      - name: ally_slug
        description: "Slug of the ally"
      - name: store_slug
        description: "Slug of the store"
      - name: ally_vertical
        description: "Vertical slug of the ally - Business logic from gold.bl_ally_brand_ally_slug_status"
      - name: ally_brand
        description: "Brand slug of the ally"  
      - name: ally_cluster
        description: "Ally cluster (KA/SMB) according to the CRM ally status - Business logic from gold.bl_ally_brand_ally_slug_status"
      - name: account_kam_name
        description: "Salesforce KAM User Name"
      - name: guarantee_provider
        description: "Guarantee provider, FNG or FGA"
      - name: status_ally_slug
        description: "New/Existing Ally Slug - Business logic from gold.bl_ally_brand_ally_slug_status"
      - name: segment
        description: "Goog Book / Bad Book client (only BR)"
      - name: is_santander
        description: "Custom boolean flag for originations that are going through Santander journey and were originated"
      - name: total_interest
        description: "interest_rate * requested_amount) * (1 - expected_loss_rate)"
      - name: guarantee_amount
        description: "interest_rate * requested_amount) * (1 - expected_loss_rate)"
      - name: lead_gen_fee_amount
        description: "lead_gen_fee_rate * requested_amount"
      - name: mdf_amount
        description: "ally_mdf * requested_amount"
      - name: expected_collection_fee_amount
        description: "expected late fee amount"
      - name: gmv
        description: "Requested amount prioritizing requested_amount_without_discount over requested_amount when the former is available"
      - name: approved_amount
        description: "Approved amount of loans"
      - name: approved_amount_filtered_for_losses
        description: "Approved amount of loan filtering only loans with expected losses not null"
      - name: consumer_revenue
        description: "total_interest"
      - name: merchant_revenue
        description: "lead_gen_fee_amount + mdf_amount"
      - name: total_revenue
        description: "consumer_revenue + merchant_revenue"
      - name: total_interest_usd
        description: "total_interest in USD currency"
      - name: guarantee_amount_usd
        description: "guarantee_amount in USD currency"
      - name: lead_gen_fee_amount_usd
        description: "lead_gen_fee_amount in USD currency"
      - name: mdf_amount_usd
        description: "mdf amount in USD currency"
      - name: expected_collection_fee_amount_usd
        description: "expected late fee amount in USD currency"
      - name: gmv_usd
        description: "GMV in USD currency"
      - name: approved_amount_usd
        description: "Approved amount of loans in USD"
      - name: approved_amount_usd
        description: "Approved amount of each loan"
      - name: consumer_revenue_usd
        description: "total_interest"
      - name: merchant_revenue_usd
        description: "lead_gen_fee_amount + mdf_amount"
      - name: total_revenue_usd
        description: "consumer_revenue + merchant_revenue"
      - name: expected_final_losses
        description: "Losses expected at the time of origination"
      - name: dq31_at_31_upb
        description: "deliquency 31 at 31 unpaid principal balance"
      - name: dq31_at_31_opb
        description: "deliquency 31 at 31 origination principal balance"
      - name: payment_cost_usd
        description: "Payment cost at transactional level"
      - name: cost_to_serve_usd
        description: "Cost to serve at transactional level"
      - name: underwriting_cost_usd
        description: "Underwriting cost at transactional level"
      - name: cost_of_funding_usd
        description: "Cost of funding at transactional level"
      - name: numerator_wal
        description: "Numerator value for weighted average life at transactional level"
      - name: numerator_weighted_wal_usd
        description: "Numerator value for computing the weighted term multiplied by gmv"
      - name: has_fga_flag
        description: "Flag that tell us when the loan has fga"
      - name: first_slug_origination_date
        description: "first origination_date of each ally_slug"
      - name: is_existing_shop_ally_before_current_year
        description: "Boolean to indicate if it's an existing ally in Addishop since before the current year."
      - name: n_originations
        description: "Number of originations for the period"
      - name: numerator_weighted_term_usd
        description: "Numerator value for computing the weighted term"
      - name: synthetic_origination_marketplace_purchase_fee_amount_usd
        description: "Applicable to marketplace originations only - money amount in USD - this is a recalculation based on each suborder individual marketplace purchase fee multiplied by its total amount, divided by the sum of all suborders total amounts"
      - name: fng_cost_amount
        description: "(approved_amount * fng_cost_rate)"
      - name: gross_expected_final_losses_amount
        description: "Expected final losses amount without discounting FNG recovery"
      - name: guarantee_expected_loss_recovery_amount
        description: "Guarantee expected recovery losses due to FNG policy"
      - name: fng_cost_amount_usd
        description: "(approved_amount * fng_cost_rate) in USD currency"
      - name: gross_expected_final_losses_amount_usd
        description: "Expected final losses amount without discounting FNG recovery in USD currency"
      - name: guarantee_expected_loss_recovery_amount_usd
        description: "Guarantee expected recovery losses due to FNG policy in USD currency"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: bl_originations_payment_date_co
    description: "Business Logic Table to provide additional information about originations report & payment term"
    columns:
      - name: loan_id
        description: "UUID of the loan"
      - name: report_term
        description: "DAILY/WEEKLY/MONTHLY ally report term"
      - name: payment_term
        description: "Days between the loan and the ally payment (only applies to daily report term)"
      - name: payment_date
        description: "Ally loan payment date"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: agg_revenue_and_originations_metrics
    description: "Aggregated table for revenue Dashboard"
    columns:
      - name: country_code
        description: "Code of the country (BR or CO)"
      - name: dataset_type
        description: "Flag to know if we are showing only Applications or originations (with or without losses)"
      - name: loan_id
        description: "UUID of the loan"
      - name: reference_datetime
        description: "Datetime that depends on dataset_type of the row"
        tests:
          - not_null
      - name: application_id
        description: "UUID of the application"
        tests:
          - not_null
      - name: client_id
        description: "UUID of the client or prospect"
        tests:
          - not_null
      - name: application_datetime_local
        description: "Timestamp when application started - localized to country"
      - name: origination_datetime_local
        description: "Timestamp when origination started - localized to country"
      - name: application_with
        description: "ADDI or SANTANDER"
      - name: approved_amount
        description: "Approved amount of each loan"
      - name: approved_amount_filtered_for_losses
        description: "Approved amount filtered to use in losses"
      - name: requested_amount
        description: "Requested amount prioritizing requested_amount_without_discount over requested_amount when the former is available"
      - name: gmv
        description: "Requested amount prioritizing requested_amount_without_discount over requested_amount when the former is available"
      - name: guarantee_rate
        description: "Loan FGA rate accepted by the client at loan proposal stage"
      - name: guarantee_amount
        description: "(guarantee_rate * requested_amount) * (1/1.19) * 0.9 * (1 - expected_loss_rate)"
      - name: interest_rate
        description: "Loan interest rate accepted by the client at loan proposal stage"
      - name: has_interest_flag
        description: "Flag that tell us when the lona has interest"
      - name: total_interest
        description: "interest_rate * requested_amount) * (1 - expected_loss_rate)"
      - name: consumer_revenue
        description: "guarantee_amount + total_interest"
      - name: lead_gen_fee_rate
        description: "Fee applied to the Addishop referral paid transaction"
      - name: lead_gen_fee_amount
        description: "lead_gen_fee_rate * requested_amount"
      - name: ally_mdf
        description: "Loan Fee applied to the merchant"
      - name: mdf_amount
        description: "ally_mdf * requested_amount"
      - name: merchant_revenue
        description: "lead_gen_fee_amount + mdf_amount"
      - name: total_revenue
        description: "consumer_revenue + merchant_revenue"
      - name: fx_rate_cop
        description: "Currency exchange rate (COP to USD)"
      - name: fx_rate_brl
        description: "Currency exchange rate (BRL to USD)"
      - name: lbl
        description: "low balance loan"
      - name: term
        description: "Number of installments"
      - name: client_type
        description: "Type of the client"
      - name: journey_name
        description: "Application journey name"
      - name: application_channel
        description: "Channel the application went through - Ally mgmt domain (originationsv2 + legacy)"
      - name: synthetic_channel
        description: "Custom application_channel grouping - Business logic from gold.bl_application_channel"
      - name: original_product
        description: "Original application product (only originations v2) - Business logic from gold.bl_application_product_co/br"
      - name: processed_product
        description: "Processed application product - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_category
        description: "Processed application product category - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_subcategory
        description: "Processed application product sub-category - Business logic from gold.bl_application_product_co/br"
      - name: state_name
        description: "Name of the state"
      - name: city_name
        description: "Name of the city"
      - name: ally_slug
        description: "Slug of the ally"
      - name: ally_name
        description: "Name of the ally"
      - name: store_slug
        description: "Slug of the store"
      - name: ally_vertical
        description: "Vertical slug of the ally - Business logic from gold.bl_ally_brand_ally_slug_status"
      - name: ally_brand
        description: "Brand slug of the ally"  
      - name: ally_cluster
        description: "Ally cluster (KA/SMB) according to the CRM ally status - Business logic from gold.bl_ally_brand_ally_slug_status"
      - name: dq31_at_31_upb
        description: "deliquency 31 at 31 unpaid principal balance"
      - name: dq31_at_31_opb
        description: "deliquency 31 at 31 origination principal balance"
      - name: expected_losses_31_at_31
        description: "delinquency 31 at 31 expected losses"
      - name: expected_losses_31_at_31_date
        description: "delinquency 31 at 31 date expected losses"
      - name: min_ts_local_application_ally_brand
        description: "Local date of the first applicaiton with that ally brand"
      - name: min_ts_local_application_ally_slug
        description: "Local date of the first applicaiton with that ally slug"
      - name: min_ts_local_application_store_slug
        description: "Local date of the first applicaiton with that store slug"
      - name: min_ts_local_origination_ally_brand
        description: "Local date of the first origination with that ally brand"
      - name: min_ts_local_origination_ally_slug
        description: "Local date of the first origination with that ally slug"
      - name: min_ts_local_origination_store_slug
        description: "Local date of the first applicaiton with that store slug"
      - name: days_since_first_application_ally_brand
        description: "Days since the first applicaiton with that ally brand"
      - name: days_since_first_application_ally_slug
        description: "Days since the first applicaiton with that ally slug"
      - name: days_since_first_application_store_slug
        description: "Days since the first applicaiton with that store slug"
      - name: days_since_first_origination_ally_brand
        description: "Days since the first origination with that ally brand"
      - name: days_since_first_origination_ally_slug
        description: "Days since the first origination with that ally slug"
      - name: days_since_first_origination_store_slug
        description: "Days since the first applicaiton with that store slug"    
      - name: is_origination
        description: "Boolean that define if the application_id is origination or not"   
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_netsuite_report
    description: "Aggregated table for revenue Dashboard"
    columns:
      - name: country_code
        description: "Code of the country (BR or CO)"
      - name: source
        description: "Source of the information in the row"
      - name: account_number
        description: "Number of the account"
      - name: account_name
        description: "Name of the account"
      - name: document_number
        description: "Netsuite document number"
      - name: date
        description: "date when the transaction/report take place"
      - name: transaction_type
        description: "Type of transaction"
      - name: ally_slug
        description: "Slug of the ally"
      - name: supplier_name
        description: "name of the supplier"
      - name: note
        description: "note for each row/report"
      - name: principal_note
        description: "extended note for each row/report"
      - name: product_subcategory
        description: "subcategory product type"
      - name: product_category
        description: "category product type"
      - name: area
        description: "Area involved in the transaction"
      - name: reporting
        description: "DESCRIPTION PLACEHOLDER"
      - name: project
        description: "name of the project"
      - name: legal_entity
        description: "nme of the legal entty involved"
      - name: net_amount_lc
        description: "net amount in COP"
      - name: net_amount_usd
        description: "net amount in USD"
      - name: report_type
        description: "type of report"
      - name: level_1
        description: "aggregation level 1"
      - name: level_2
        description: "aggregation level 2"
      - name: level_3
        description: "aggregation level 3"
      - name: level_4
        description: "aggregation level 4"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_ally_categories_subcategories
    description: "Categories and SubCategories that each ally belongs to"
    columns:
      - name: ally_slug
        description: "Name of the ally slug"
        tests:
          - not_null
      - name: category_slug
        description: "Name of the category slug"
      - name: category_name
        description: "Name of the category as it appears in the app"
      - name: subcategory_slug
        description: "Name of the sub category slug"
      - name: sub_category_name
        description: "Name of the sub category as it appears in the app"
  - name: agg_algolia_ally_subcategory_ranking_co
    description: "Allies ranking within each subcategory in the App"
    columns:
      - name: ally_slug
        description: "Name of the ally slug"
      - name: category_slug
        description: "Name of the category that the ally belongs to"
        tests:
          - not_null
      - name: sub_category_slug
        description: "Name of the Sub category that the ally belongs to"
      - name: score_a
        description: "Ally sub-category ranking"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: agg_shop_ally_metrics
    description: "Daily metrics of Allies that opted-in in Shop"
    columns:
      - name: date
        description: "Date of the metric"
      - name: ally_slug
        description: "Name of the ally slug"
        tests:
          - not_null
      - name: ally_cluster
        description: "Cluster ally (SMB / KA)"
      - name: ally_state
        description: "State of the ally as it appears in ally management"
      - name: is_able_originate
        description: "Flag to indicate whether the ally is able to originate given the ally state"
      - name: shop_state
        description: "Flag to indicate the ally Shop state (OPT-IN, OPT-OUT, EXISTING)"
      - name: shop_start_date
        description: "Latest Opt-in date"    
      - name: shop_end_date
        description: "Latest Opt-out date"    
      - name: shop_day_number
        description: "Amount of days since the given shop state"
      - name: gmv
        description: "Sum of loans requested amount"
      - name: gmv_usd
        description: "Sum of loans requested amount in USD"
      - name: shop_paying_gmv
        description: "Sum of Shop paying loans requested amount"
      - name: shop_paying_gmv_usd
        description: "Sum of Shop paying loans requested amount in USD"
      - name: shop_paying_originations
        description: "Count of Shop paying loans"
      - name: last_shop_origination_date
        description: "Last date of Shop origination"
      - name: first_shop_origination_date
        description: "First date of Shop origination"
      - name: shop_revenue
        description: "Sum of LGF earned"
      - name: shop_revenue_usd
        description: "Sum of LGF earned in USD"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: agg_shop_funnel_metrics_co
    description: "Daily/Weekly/Monthly metrics of Shop App Funnel"
    columns:
      - name: period_type
        description: "Metric period (Daily/Weekly/Monthly"
      - name: period
        description: "Date of the metric"
      - name: app_users
        description: "Amount of users that logged in the app"
      - name: shop_app_users
        description:  "Amount of users that logged in the app that are able to see stores"
      - name: shop_app_clickers
        description: "Amount of Shop App Users that clicked in a store"
      - name: shop_users_applicating
        description: "Amount of users that started an application using the app"
      - name: shop_users_paying_applicating
        description: "Amount of users that started an application in a Shop paying merchant using the app"
      - name: shop_applications
        description: "Amount of applications that started in the app"
      - name: shop_paying_applications
        description: "Amount of applications in Shop paying merchants that started in the app"
      - name: shop_users_originating
        description: "Amount of users that originated using the app"
      - name: shop_users_paying_originating
        description: "Amount of users that originated in a Shop Paying Merchant using the app"
      - name: shop_originations
        description: "Amount of originations that started in the app"
      - name: shop_paying_originations
        description: "Sum of Shop paying loans requested amount in USD"
      - name: shop_paying_originations
        description: "Amount of originations in Shop paying merchants that started in the app"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_condonations
    description: "Condonations datamart from daily loan status & syc condonations"
    columns:
      - name: country
        description: "Country code, fixed to CO for entire table"
      - name: loan_id
        description: "UUID of the loan"
      - name: condonation_date
        description: "Day when the condonation was applied"
      - name: condonation_reason
        description: "Condonation reason"
      - name: total_moratory_interest_condoned
        description: "Total amount of moratory interest condoned"
      - name: total_interest_overdue_condoned
        description: "Total amount of interest overdue condoned"
      - name: total_principal_overdue_condoned
        description: "Total amount of principal overdue condoned"
      - name: total_current_interest_condoned
        description: "Total amount of interest condoned"
      - name: total_current_principal_condoned
        description: "Total amount of principal condoned"
      - name: total_unpaid_principal_condoned
        description: "Total amount of unpaid principal condoned"
      - name: total_guarantee_condoned
        description: "Total amount of guarantee condoned"
      - name: condoned_amount
        description: "Total amount condoned"
  - name: dm_losses_and_recoveries_by_mob
    description: "Losses & recoveries datamart - MOB based (one record for each MOB)"
    columns:
      - name: loan_id
        description: "UUID of the loan"
      - name: calculation_date
        description: "Date of the calculation from daily loan status table"
      - name: delinquency_bucket
        description: "Delinquency bucket related to each day past due"
      - name: upb
        description: "Unpaid principal balance amount"
      - name: total_principal_paid
        description: "Total amount of principal paid"
      - name: total_interest_paid
        description: "Total amount of interest paid"
      - name: total_guarantee_paid
        description: "Total amount of guarantee paid"
      - name: total_collection_fees_paid
        description: "Total late fees amount paid"
      - name: marginal_principal_paid
        description: "Marginal principal paid during the MOB window"
      - name: marginal_interest_paid
        description: "Marginal interest paid during the MOB window"
      - name: marginal_guarantee_paid
        description: "Marginal guarantee paid during the MOB window"
      - name: marginal_collection_fees_paid
        description: "Marginal late fees paid during the MOB window"
      - name: first_payment_date
        description: "Date of the first payment"
      - name: principal_recovered
        description: "Total principal recovered amount"
      - name: interest_recovered
        description: "Total interest recovered amount"
      - name: guarantee_recovered
        description: "Total guarantee recovered amount"
      - name: collection_fees_recovered
        description: "Total late fees recovered amount"
      - name: principal_charged_off
        description: "Principal charged-off amount post charge-off date"
      - name: guarantee_charged_off
        description: "Guarantee charged-off amount post charge-off date"
      - name: interest_charged_off
        description: "Interest charged-off amount post charge-off date"
      - name: collection_fees_charged_off
        description: "Late fees charged-off amount post charge-off date"
      - name: total_interest_condoned
        description: "Total interest condonded amount"
      - name: total_principal_condoned
        description: "Total principal condonded amount"
      - name: total_guarantee_condoned
        description: "Total guarantee condonded amount"
      - name: amount
        description: "Originated principal balance - based on approved amount"
      - name: net_opb
        description: "OPB - condonded amount by loan recast"
      - name: ospb
        description: "Outstanding principal balance -> net_opb - total_applied_amount"
      - name: mob
        description: "Month on book"
      - name: mob_number
        description: "Month on book in numeric values for each MOB. Values 0.17: 5 days, 0.33: 10 days, 0.5: 15 days"
  - name: dm_client_payment_promises_co
    description: "Modeling for finance core and collections domain - AE: client payment promises with last state by payment_promise_id"
    columns:
      - name: payment_promise_id
        description: "Payment promise id"
        tests:
          - not_null
      - name: agent_info
        description: "Agent info"
      - name: agent_code
        description: "Agent code"
      - name: client_id
        description: "UUID of the client"
        tests:
          - not_null
      - name: client_payment_id
        description: "UUID of the client payment"
      - name: conditions
        description: "Conditions of the payment promise"
      - name: end_date
        description: "End date of the payment promise"
      - name: expected_amount
        description: "Expected amount of the payment promise"
      - name: resolution_call
        description: "Resolution call of the payment promise"
      - name: stage
        description: "Stage of the payment promise"
      - name: start_date
        description: "Start date of the payment promise"
      - name: state
        description: "State of the payment promise"
      - name: last_event_name_processed
        description: "Last event name processed"
      - name: event_name
        description: "Name of the event"
      - name: last_event_id_processed
        description: "Last event id processed"
      - name: event_id
        description: "UUID of the event"
      - name: last_event_ocurred_on_processed
        description: "Timestamp of the last event processed"
      - name: ocurred_on_date
        description: "Event ocurred_on Timestamp as date"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
      - name: kustomer_collections_resol_tree1
        description: "communication resolution 1"
      - name: kustomer_collections_resol_tree2
        description: "communication resolution 2"
      - name: kustomer_collections_resol_tree3
        description: "communication resolution 3"
      - name: payments_num
        description: "number of client payments"
      - name: payments_details
        description: "Array with an struct containing all client payments ids and amounts for payment promises"
  - name: dm_app_session_profile
    description: "Categorizying app sessions by type"
    columns:
      - name: user_id
        description: "Equals the client_ID"
      - name: session_id
        description: "Id of the app session"
      - name: country
        description: "Country where the session started"
      - name: session_date
        description: "Start date of the session"
      - name: cupo_state_v2
        description: "Cupo State at the time of the session"
  - name: dm_collections_commercial_tradelines_co
    description: "Datamart for client_id based tradelines aggregated metrics in CO"
    columns:
      - name: client_id
        description: "UUID of the client"
      - name: tradeline_origination_date
        description: "DESCRIPTION PLACEHOLDER"
      - name: tradeline_obligation_number
        description: "DESCRIPTION PLACEHOLDER"
      - name: tradeline_entity_name
        description: "DESCRIPTION PLACEHOLDER"
      - name: tradeline_term_approx
        description: "DESCRIPTION PLACEHOLDER"
      - name: tradeline_city
        description: "DESCRIPTION PLACEHOLDER"
      - name: tradeline_branch
        description: "DESCRIPTION PLACEHOLDER"
      - name: tradeline_obligation_type
        description: "DESCRIPTION PLACEHOLDER"
      - name: tradeline_obligation_status_last_update_date
        description: "DESCRIPTION PLACEHOLDER"
      - name: footprint_entity_name
        description: "DESCRIPTION PLACEHOLDER"
      - name: footprint_ciy
        description: "DESCRIPTION PLACEHOLDER"
      - name: footprint_date
        description: "DESCRIPTION PLACEHOLDER"
      - name: footprint_branch
        description: "DESCRIPTION PLACEHOLDER"
      - name: bank_entity_name
        description: "DESCRIPTION PLACEHOLDER"
      - name: bank_branch
        description: "DESCRIPTION PLACEHOLDER"
      - name: bank_obligation_type
        description: "DESCRIPTION PLACEHOLDER"
      - name: bank_origination_date
        description: "DESCRIPTION PLACEHOLDER"
      - name: bank_last_update_date
        description: "DESCRIPTION PLACEHOLDER"
      - name: estimated_income
        description: "DESCRIPTION PLACEHOLDER"
      - name: indebtedness_capacity
        description: "DESCRIPTION PLACEHOLDER"
      - name: total_active_products
        description: "DESCRIPTION PLACEHOLDER"
      - name: total_initial_approved_amount
        description: "DESCRIPTION PLACEHOLDER"
      - name: total_balance
        description: "DESCRIPTION PLACEHOLDER"
      - name: total_installment
        description: "DESCRIPTION PLACEHOLDER"
      - name: non_revolving_total_products
        description: "DESCRIPTION PLACEHOLDER"
      - name: non_revolving_total_initiaL_approved_amount
        description: "DESCRIPTION PLACEHOLDER"
      - name: non_revolving_total_balance
        description: "DESCRIPTION PLACEHOLDER"
      - name: non_revolving_total_installment
        description: "DESCRIPTION PLACEHOLDER"
      - name: total_active_credit_cards
        description: "DESCRIPTION PLACEHOLDER"
      - name: credit_card_initial_approved_amount
        description: "DESCRIPTION PLACEHOLDER"
      - name: credit_card_balance
        description: "DESCRIPTION PLACEHOLDER"
      - name: credit_card_installment
        description: "DESCRIPTION PLACEHOLDER"
      - name: health_entity
        description: "DESCRIPTION PLACEHOLDER"
      - name: pension_fund_name
        description: "DESCRIPTION PLACEHOLDER"
  - name: dm_refinance_loans
    description: "AE - V1 Datamart for successfully originated refinanced loans"
    columns:
      - name: country_code
        description: "CO for Colombia, BR for Brazil"
      - name: loan_id
        description: "UUID of the originated due to refinance loan"
      - name: client_id
        description: "UUID of the client"
      - name: application_id
        description: "UUID of the application"
      - name: ally_slug
        description: "Slug of the ally"
      - name: store_slug
        description: "Slug of the store"
      - name: approved_amount
        description: "Approved amount of the loan"
      - name: requested_amount
        description: "Requested amount of each application"
      - name: term
        description: "Term of the loan"
      - name: interest_rate
        description: "Interest Rate (effective annual rate)"
      - name: total_interest
        description: "Total amount of interest applied to the loan"
      - name: guarantee_rate
        description: "Guarantee rate"
      - name: guarantee_amount
        description: "Guarantee rate as an amount of money"
      - name: origination_date_local
        description: "Timestamp when application started - localized to country"
      - name: first_payment_date_local
        description: "Timestamp when theorically the first payment datetime is for this loan - localized to country"
      - name: client_type
        description: "Type of the client"
      - name: journey_name
        description: "Application journey name"
      - name: application_channel
        description: "Channel the application went through - Ally mgmt domain (originationsv2 + legacy)"
      - name: synthetic_channel
        description: "Custom application_channel grouping - Business logic from gold.bl_application_channel"
      - name: loans_to_refinance_lst_debug
        description: "DESCRIPTION_PLACEHOLDER"
      - name: credit_policy_name
        description: "Credit check policy name"
      - name: credit_status
        description: "Credit check status"
      - name: credit_status_reason
        description: "Credit check status reason"
      - name: original_product
        description: "Original application product (only originations v2) - Business logic from gold.bl_application_product_co/br"
      - name: processed_product
        description: "Processed application product - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_category
        description: "Processed application product category - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_subcategory
        description: "Processed application product sub-category - Business logic from gold.bl_application_product_co/br"
      - name: ally_vertical
        description: "Vertical of the ally"
      - name: ally_brand
        description: "Brand of the ally"
      - name: ally_cluster
        description: "Ally type from deals table"
      - name: ingested_at
        description: "When the query run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
      - name: loans_to_refinance_lst_debug
        description: "List of successfully refinanced loans through this refinance process that ended with the origination of this loan_id"
  - name: dm_product_selection_application_co
    description: "Product Selection application conversion"
    columns:
      - name: application_id
        description: "UUID of the application"
      - name: ally_slug
        description: "Name of the slug"
      - name: channel
        description: "Slug channel"
      - name: ally_vertical
        description: "Vertical of the ally slug"
      - name: ally_cluster
        description: "Cluster of the ally slug"
      - name: client_id
        description: "UUID of the client"        
      - name: client_type
        description: "Type of the client (Prospect or Returning Client)"
      - name: ocurred_on_date
        description: "Date of the product selection event"
      - name: last_event_ocurred_on_processed
        description: "Timestamp of the product selection event"
      - name: product_selected_flag
        description: "Indicates whether a product (BNPN / BNPL) was selected or not"       
      - name: product_selection_declination_reason
        description: "Declination reason if the client declined at product selection stage"
      - name: product_selection_declination_comments
        description: "Declination comment if the client declined at product selection stage"
      - name: original_product
        description: "Product selected"
      - name: requested_amount
        description: "Requested amount of the application"       
      - name: requested_amount_without_discount
        description: "Requested amount without discount of the application"
      - name: addishop_channel
        description: "Shop channel where the shopping intent was performed"
      - name: is_addishop_referral
        description: "Flag that indicates if the application started in Shop"
      - name: is_addishop_referral_paid
        description: "Flag that indicates if the shop application was made at a Shop paying merchant"
      - name: auto_selection
        description: "Boolean to know if auto selection occurs"
  - name: agg_marketing_comms
    description: "Aggregated table for marketing communications"
    columns:
      - name: channel
        description: "Channel where the campaign ocurred"
      - name: campaign_id
        description: "Name of the campaign"
      - name: general_addi_flag
        description: "flag that shows true if the ally_slug of the campaign is always addi"
      - name: shopping_intents
        description: "number of shopping intents"        
      - name: attributable_loans
        description: "Number of loans attributable to the campaign"
      - name: attributable_gmv
        description: "GMV attributable to the campaign"
      - name: communication_read
        description: "number of communications where the last status is read"
      - name: communication_open
        description: "number of communications where the last status is open"       
      - name: communication_delivered
        description: "number of communications where the last status is delivered"
      - name: communication_bounce
        description: "number of communications where the last status is Bounce"
      - name: communication_queued
        description: "number of communications where the last status is queued"
      - name: communication_dropped
        description: "number of communications where the last status is dropped"       
      - name: communication_click
        description: "number of communications where the last status is click"
      - name: amplitude_click
        description: "Number of amplitude clicks"
      - name: communication_undelivered
        description: "number of communications where the last status is undelivered"
      - name: communication_processed
        description: "number of communications where the last status is processed"
      - name: communication_deferred
        description: "number of communications where the last status is deferred"
      - name: communication_spamreport
        description: "number of communications where the last status is spamreport"
      - name: communication_failed
        description: "number of communications where the last status contained the word failed"
      - name: communication_sent
        description: "number of communications where the last status is sent"       
      - name: total_communications
        description: "summatory of all communications"
      - name: open_rate
        description: "This metric measures the percentage of recipients who opened an email or message.
         It provides insights into the effectiveness of the subject line or message preview."
      - name: click_through_rate
        description: "CTR measures the percentage of recipients who clicked on a link or call-to-action within an email or message.
         It helps assess the engagement level and the effectiveness of the content."
      - name: bounce_rate
        description: "Bounce rate indicates the percentage of emails or messages that were not delivered because
         the recipient's address was invalid, or the server rejected the message. 
         Reducing bounce rates is important for maintaining a clean and updated contact list."       
      - name: unsuscribe_rate
        description: " This measures the percentage of recipients who chose to opt out of future communications. It's important
         to monitor this to understand audience preferences and reduce unsubscribes when possible."
      - name: delivery_rate
        description: "Delivery rate reflects the percentage of emails or messages successfully delivered to recipient’s inboxes 
        without bouncing or being marked as spam. A high delivery rate is essential for effective communication."
  - name: dm_shopping_intent_application_origination_co
    description: "Shop Shopping Intent info and attributed applications"
    columns:
      - name: shopping_intent_id
        description: "Unique identifier of the shopping intent"
        tests:
          - not_null
      - name: shopping_intent_timestamp
        description: "Timestamp of the shopping intent"      
      - name: shopping_intent_timestamp_local
        description: "Local timestamp of the shopping intent"      
      - name: ally_slug
        description: "Name of the ally slug clicked  (shopping intent) "
      - name: ally_brand
        description: "Brand of the ally slug clicked (shopping intent)"
      - name: ally_vertical
        description: "Vertical of the ally slug clicked (shopping intent)"
      - name: ally_cluster
        description: "Cluster of the ally slug clicked (shopping intent)"
      - name: campaign_id
        description: "Unique identifier of the campaign related to the shopping intent"
      - name: shop_channel
        description: "Channel where the shopping intent happened"
      - name: client_id
        description: "Unique identifier of the user that performed the shopping intent"
      - name: device_id
        description: "Unique identifier of the device_id that performed the shopping intent"
      - name: platform
        description: "Platform that performed the shopping intent"
      - name: device_type
        description: "Device that performed the shopping intent"      
      - name: screen
        description: "Name of the App screen where the shopping intent was performed"
      - name: component
        description: "Name of the App component name where the shopping intent was performed"
      - name: category
        description: "Name of the Category Name where the shopping intent was performed"
      - name: subcategory
        description: "Name of the SubCategory Name name where the shopping intent was performed"
      - name: application_id
        description: "Id of the application if the shopping intent generated an application"
      - name: application_datetime
        description: "Date of the application in UTC timezone"
      - name: application_datetime_local
        description: "Date of the application in local timezone"
      - name: requested_amount
        description: "Requested amount of the application"
      - name: requested_amount_without_discount
        description: "Requested amount without discount of the application"
      - name: fx_rate
        description: "FX Rate applied"     
      - name: application_is_addishop_referral
        description: "Boolean indicating whether the application started in the app or not"
      - name: application_is_addishop_referral_paid
        description: "Boolean indicating whether the AddiShop application was performed by a paying member at the time of the application or not"
      - name: original_product
        description: "Original product of the application"      
      - name: is_origination_flag
        description: "Flag that indicates whether the application was originated or not"      
      - name: loan_id
        description: "Id of the loan if the click generated an origination"
      - name: origination_date
        description: "Date of the origination in UTC timezone"
      - name: origination_date_local
        description: "Date of the origination in local timezone"   
      - name: gmv
        description: "Originations GMV"      
      - name: lead_gen_fee_rate
        description: "LGF rate that the paying merchant is paying at the time of the origination"
      - name: lead_gen_fee_amount
        description: "Shop Revenue"    
      - name: origination_is_addishop_referral
        description: "Boolean indicating whether the origination started in the app or not"
      - name: origination_is_addishop_referral_paid
        description: "Boolean indicating whether the AddiShop origination was performed by a paying member at the time of the origination or not"
      - name: ingested_at
        description: "When the query run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: agg_ally_slug_cohorts_co
    description: "Time series to do a cohorts analysis on gmv results for each ally slug according to "
    columns:
      - name: dataset_surrogate_key
        description: "Surrogate key / compound PK - hash (MD5) built on top of concatenating 'ally_slug' with 'period_type' with 'period_since_ready_to_transact'"
      - name: country_code
        description: "Country code for the record, only Colombia for now:'CO'"
      - name: ally_slug
        description: "Slug of the ally"
      - name: custom_ready_to_transact_date_local
        description: "Custom column built using the minimum value between the 'min_terms_and_conditions_acceptance_date_local' & 'min_application_date_local'"
      - name: custom_ready_to_transact_type
        description: "Depending on the value of 'custom_ready_to_transact_date_local' this can be either: 'APP_DATE_START' or 'T&C_START'"
      - name: period_type
        description: "Either: 'WEEKLY' or 'MONTHLY'"
      - name: period_since_ready_to_transact
        description: "Numeric value representing the row period number since the date the ally_slug is considered ready to transact"
      - name: relative_period_start_date_local
        description: "Period start date (local)"
      - name: relative_period_end_date_local
        description: "Period end date (local)"
      - name: gmv
        description: "Sum of GMV (in local currency) for ally for period being analyzed"
      - name: ally_brand
        description: "Brand of the ally"
      - name: ally_cluster
        description: "Ally type from deals table"
      - name: ally_vertical
        description: "Vertical of the ally"
      - name: fx_rate_cop
        description: "Active conversion FX Rate from USD to COP"
      - name: fx_rate_brl
        description: "Active conversion FX Rate from USD to BRL"
      - name: min_application_date_local
        description: "Ally current minimum application date (local)"
      - name: max_application_date_local
        description: "Ally current maximum application date (local)"
      - name: min_origination_date_local
        description: "Ally current minimum origination date (local)"
      - name: max_origination_date_local
        description: "Ally current maximum origination date (local)"
      - name: min_terms_and_conditions_acceptance_date_local
        description: "Ally current minimum date (local) in which it accepted ADDI's Terms and conditions, from events"
  - name: dm_risk_transaction_new_rc_pd_scores
    description: "DM for loan sale for Architect and Goldman"
    columns:
      - name: loan_id
        description: "UUID of the loan"
      - name: client_id
        description: "Identifier of the client"
      - name: d_vintage
        description: "Provide us the application date"
      - name: loan_number
        description: "Number of the loan"
      - name: product
        description: "Product of the loan"  
      - name: addi_pd
        description: "Probability of default for the loan"
      - name: new_rc_pd_bf
        description: "DESCRIPTION PLACEHOLDER"
      - name: new_rc_pd_aft
        description: "DESCRIPTION PLACEHOLDER"
  - name: dm_reimbursements_co
    description: "DM for Reimbursements Dashboard"
    columns:
      - name: client_id
        description: "Identifier of the client"
      - name: client_id_number
        description: "Id number of the client"
      - name: full_name
        description: "Full name of the client"
      - name: application_cellphone
        description: "Cellphone of the last application"  
      - name: positive_balance
        description: "Positive balance of the client"
      - name: reimbursement_amount
        description: "Full amount of reimbursements"
      - name: positive_balance_reimbursement_difference
        description: "Difference between positive balance and reimbursements"
      - name: is_fully_paid
        description: "Flag to indicate if the loan is fully paid"
      - name: is_cancelled
        description: "Indicates if loan was cancelled"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_loan_cancellations_co
    description: "Loan Cancellations data mart for Colombia - contains all processed loan cancellations orders (grouped, one row per loan) by the client management domain: client_management.loan_cancellation_orders, some debug columns from ally management and syc domains, and some bits of data from originations events"
    columns:
      - name: loan_id
        description: "UUID of the loan"
      - name: client_id
        description: "UUID of the client"
      - name: application_id
        description: "UUID of the application"
      - name: ally_slug
        description: "Slug of the ally"
      - name: suborders_ally_slug_array
        description: "Application list of suborder allies (only applicable (>0) for marketplace transactions) "
      - name: approved_amount
        description: "Approved amount of the loan"
      - name: origination_date
        description: "Timestamp of origination - in UTC timezone"
      - name: origination_date_cot
        description: "Timestamp of origination - in COT/UTC-5 timezone"
      - name: origination_channel
        description: "Channel the origination went through"
      - name: custom_is_totally_cancelled
        description: "Key - Boolean custom flag - whether or not the loan has a non-annulled (valid) total cancellation order in place"
      - name: custom_has_partial_cancellations
        description: "Key - Boolean custom flag - whether or not the loan has non-annulled (valid) partial cancellation(s) order(s) in place"
      - name: last_total_cancellation_request_id
        description: "Loan last valid complete cancellation request UUID (Only applicable for custom_is_totally_cancelled=TRUE)"
      - name: last_total_cancellation_request_user_id
        description: "Loan last valid complete cancellation requested by this user UUID (Only applicable for custom_is_totally_cancelled=TRUE)"
      - name: last_total_cancellation_request_user_custom_full_name
        description: "Loan last valid complete cancellation requested by this user custom complete name (Only applicable for custom_is_totally_cancelled=TRUE)"
      - name: last_total_cancellation_date_cot
        description: "Loan last valid complete cancellation timestamp in COT/UTC-5 timezone (Only applicable for custom_is_totally_cancelled=TRUE)"
      - name: last_total_cancellation_type
        description: "Loan last valid complete cancellation type, either: PARTIAL,TOTAL,TOTAL_BACKFILL (added by us retroactively when not found) ; (Only applicable for custom_is_totally_cancelled=TRUE)"
      - name: last_total_cancellation_reason
        description: "Loan last valid complete cancellation reason (Only applicable for custom_is_totally_cancelled=TRUE)"
      - name: num_non_annulled_total_cancellations
        description: "Control field that counts the amount of non-annulled total cancellations applied to this loan"
      - name: sum_non_annulled_partial_cancellation_amounts
        description: "Control field that sums the cancellation amounts of non-annulled partial cancellations applied to this loan"
      - name: num_non_annulled_unique_partial_cancellations
        description: "Control field that counts the amount of non-annulled partial cancellations applied to this loan"
      - name: num_unique_allies_with_non_annulled_partial_cancellation
        description: "Control field that counts the number of unique allies with non-annulled partial cancellations applied to this loan (useful only for marketplace multi-seller originations)"
      - name: debug_stats_partial_cancellations
        description: "Debug field with some useful statistics on the non-annulled partial cancellations applied to this loan"
      - name: debug_detail_partial_cancellations
        description: "Debug field with detailed data (array of structs field) on the non-annulled partial cancellations applied to this loan"
      - name: debug_all_loan_cancellations_orders_num_orders
        description: "Debug field with the count of ALL cancellation orders applied to this loan (disregarding whether or not are annulled)"
      - name: debug_all_loan_cancellations_orders_history
        description: "Debug field with detailed data (array of structs field) on ALL cancellation orders applied to this loan (disregarding whether or not are annulled)"
      - name: debug_syc_originations_is_cancelled
        description: "Debug field with data from a SYC domain table, boolean flag, whether or not this loan is marked as cancelled in syc.originations"
      - name: debug_syc_originations_cancellation_reason
        description: "Debug field with data from a SYC domain table, boolean flag, whether or not this loan has a cancellation reason in syc.originations"
      - name: debug_ally_management_transactions_num_allies
        description: "Debug field with data from a ALLY MANAGEMENT domain table, number of unique allies taking part of the loan-linked transaction(s) in: ally_management.transactions"
      - name: debug_ally_management_transactions_allies_array
        description: "Debug field with data from a ALLY MANAGEMENT domain table, list of unique allies taking part of the loan-linked transaction(s) in: ally_management.transactions"
      - name: debug_ally_management_transactions_num_partial_cancellations
        description: "Debug field with data from a ALLY MANAGEMENT domain table, number of transactions with a status of being partially cancelled, related to the loan-linked transaction(s) in: ally_management.transactions"
      - name: debug_ally_management_transactions_num_total_cancellations
        description: "Debug field with data from a ALLY MANAGEMENT domain table, number of transactions with a status of being totally cancelled, related to the loan-linked transaction(s) in: ally_management.transactions"
      - name: debug_ally_management_transactions_data
        description: "Debug field with data from a ALLY MANAGEMENT domain table, all relevant data (array of structs field) from the transactions associated to the loan, in: ally_management.transactions"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: bl_product_policy_to_product_co
    description: "Business Logic table meant to translate product policy types (ADDI_PAGO, ADDI_FINANCIA, ADDI_BNPN) into originations application.product values (PAGO_CO, FINANCIA_CO, BNPN_CO), follow the same logic we do in originations v2 domain"
    columns:
      - name: ally_product_policy
        description: "Existing ally management domain events product policy type (ADDI_PAGO, ADDI_FINANCIA, ADDI_BNPN)"
      - name: original_product
        description: "Categorization for the ally_product_policy based on current platform logic, mapping to new values (PAGO_CO, FINANCIA_CO, BNPN_CO) "
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: bl_originations_marketplace_suborders_to_originations_co
    description: "Business Logic table meant to perform a-posteriori calculations on marketplace applications suborders values in order to present them in an origination-level"
    columns:
      - name: application_id
        description: "UUID of the application"
      - name: loan_id
        description: "UUID of the loan"
      - name: client_id
        description: "UUID of the client"
      - name: original_product
        description: "Original application product (only originations v2) - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_origination_requested_amount
        description: "Origination a-posteriori calculated amount - SUM(synthetic_suborder_total_amount) = SUM(CASE WHEN suborder_total_amount_without_discount > 0 THEN suborder_total_amount_without_discount ELSE suborder_total_amount END). Refer to the comment on the last select of the SQL model"
      - name: synthetic_origination_marketplace_purchase_fee
        description: "Origination a-posteriori calculated marketplace purchase fee - weighted percentage, basically SUM(suborder_marketplace_purchase_fee * synthetic_suborder_total_amount) divided by the SUM(synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: synthetic_origination_marketplace_purchase_fee_amount
        description: "Origination a-posteriori calculated marketplace purchase fee amount - basically the SUM(suborder_marketplace_purchase_fee * synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: synthetic_origination_cancellation_mdf
        description: "Origination a-posteriori calculated cancellation-MDF - weighted percentage, basically the SUM(product_policy_cancellation_mdf * synthetic_suborder_total_amount) divided by the SUM(synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: synthetic_origination_cancellation_mdf_amount
        description: "Origination a-posteriori calculated cancellation-MDF amount - basically the SUM(product_policy_cancellation_mdf * synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: synthetic_origination_fraud_mdf
        description: "Origination a-posteriori calculated fraud-MDF - weighted percentage, basically the SUM(product_policy_fraud_mdf * synthetic_suborder_total_amount) divided by the SUM(synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: synthetic_origination_fraud_mdf_amount
        description: "Origination a-posteriori calculated fraud-MDF amount - basically the SUM(product_policy_cancellation_mdf * synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: synthetic_origination_origination_mdf
        description: "Origination a-posteriori calculated origination-MDF - weighted percentage, basically the SUM(product_policy_origination_mdf * synthetic_suborder_total_amount) divided by the SUM(synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: synthetic_origination_origination_mdf_amount
        description: "Origination a-posteriori calculated origination-MDF amount - basically the SUM(product_policy_cancellation_mdf * synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: debug_num_suborders
        description: "Debug field - number of marketplace suborders in the origination"
      - name: debug_suborders
        description: "Debug field (array of struct) with additional data on each suborder included in the aggregation per origination"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_originations_marketplace_suborders_co
    description: "Marketplace originations suborders-only data mart - analog dataset to gold.dm_originations"
    columns:
      - name: custom_application_suborder_pairing_id
        description: "Custom UUID built on top of joining: the application id + suborder id"
      - name: suborder_id
        description: "UUID of one of the applications suborder"
      - name: suborder_ally_slug
        description: "Suborder Ally Slug"
      - name: suborder_store_slug
        description: "Suborder Store Slug"
      - name: application_id
        description: "UUID of the application"
      - name: loan_id
        description: "UUID of the loan"
      - name: order_id
        description: "Order ID for the purchase"
      - name: client_id
        description: "UUID of the client"
      - name: origination_ally_slug
        description: "Origination-wise ally slug (always: addi-marketplace for marketplace applications)"
      - name: origination_date
        description: "Timestamp of origination - in UTC timezone"
      - name: origination_date_local
        description: "Timestamp of origination - in COT/UTC-5 or BRL/UTC-3 timezone, according to local country"
      - name: suborder_total_amount
        description: "Suborder total amount (analog concept to the applications requested amount)"
      - name: suborder_total_amount_without_discount
        description: "Suborder total amount without discount (analog concept to the applications requested amount without discount)"
      - name: synthetic_suborder_total_amount
        description: "Basically: CASE WHEN suborder_total_amount_without_discount > 0 THEN suborder_total_amount_without_discount ELSE suborder_total_amount END (follow the same logic as when calculating this amount at the application level)"
      - name: suborder_shipping_amount
        description: "Suborder shipping amount"
      - name: suborder_attribution_weight_by_number_of_allies
        description: "Suborder participation over the suborder weighted by the number of allies (suborders) - manually calculated and not retrieved from evenets as the data was not correct for several weeks"
      - name: suborder_attribution_weight_by_total_amount
        description: "Suborder participation over the suborder weighted by the sum of suborders total amount - manually calculated and not retrieved from evenets as the data was not correct for several weeks"
      - name: suborder_attribution_weight_by_total_without_discount_amount
        description: "Suborder participation over the suborder weighted by the sum of suborders total amount without discounts - manually calculated and not retrieved from evenets as the data was not correct for several weeks"
      - name: debug_original_weights
        description: "Debug field (struct) contains the original (retrieved from events payloads) weights values for the suborder"
      - name: suborder_vtex_external_id_array
        description: "Suborder VTEX list of external ids"
      - name: suborder_vtex_seller_id_array
        description: "Suborder VTEX list of seller ids"
      - name: suborder_marketplace_purchase_fee
        description: "Fee we apply to the marketplace applications suborders allies for a client purchase with us"
      - name: synthetic_suborder_marketplace_purchase_fee_amount
        description: "Amount we receive as part of the fee we apply to the marketplace applications suborders allies for a client purchase with us, basically: (mktp_so.synthetic_suborder_total_amount * mktp_so.suborder_marketplace_purchase_fee)"
      - name: suborder_product_policy_type
        description: "Ally product policy type applied to the suborder"
      - name: suborder_product_policy_max_amount
        description: "Ally product policy maximum amount applied to the suborder"
      - name: suborder_cancellation_mdf
        description: "Ally cancellation MDF applied to the suborder"
      - name: suborder_fraud_mdf
        description: "Ally fraud MDF applied to the suborder"
      - name: suborder_origination_mdf
        description: "Ally origination MDF applied to the suborder"
      - name: synthetic_suborder_origination_mdf_amount
        description: "Ally origination MDF amount applied to the suborder, basically: (synthetic_suborder_total_amount * product_policy_origination_mdf)"
      - name: suborder_ally_brand
        description: "Suborder ally slug brand name"
      - name: suborder_ally_vertical
        description: "Suborder ally slug vertical name"
      - name: suborder_ally_cluster
        description: "Suborder ally slug cluster"
      - name: account_kam_name
        description: "Salesforce KAM User Name"
      - name: status_ally_brand_suborder
        description: "Suborder ally slug brand custom status"
      - name: status_ally_slug_suborder
        description: "Suborder ally slug custom status"
      - name: origination_approved_amount
        description: "Origination-wise approved amount"
      - name: origination_guarantee_rate
        description: "Origination-wise guarantee rate applied, only for BNPL originations"
      - name: origination_term
        description: "Origination-wise term, only for BNPL originations"
      - name: application_channel
        description: "Application-wise channel"
      - name: client_type
        description: "Type of the client"
      - name: application_journey_name
        description: "Application Journey"
      - name: application_original_product
        description: "Original application product (only originations v2) - Business logic from gold.bl_application_product_co/br"
      - name: application_processed_product
        description: "Processed application product - Business logic from gold.bl_application_product_co/br"
      - name: application_synthetic_product_category
        description: "Processed application product category - Business logic from gold.bl_application_product_co/br"
      - name: application_synthetic_product_subcategory
        description: "Processed application product sub-category - Business logic from gold.bl_application_product_co/br"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_applications_marketplace_suborders_co
    description: "Marketplace applications suborders-only data mart - analog dataset to gold.dm_applications"
    columns:
      - name: custom_application_suborder_pairing_id
        description: "Custom UUID built on top of joining: the application id + suborder id"
      - name: suborder_id
        description: "UUID of one of the applications suborder"
      - name: suborder_ally_slug
        description: "Suborder Ally Slug"
      - name: suborder_store_slug
        description: "Suborder Store Slug"
      - name: application_id
        description: "UUID of the application"
      - name: order_id
        description: "Order ID for the purchase"
      - name: client_id
        description: "UUID of the client"
      - name: application_ally_slug
        description: "Application-wise ally slug (always: addi-marketplace for marketplace applications)"
      - name: application_datetime
        description: "Timestamp of origination - in UTC timezone"
      - name: application_datetime_local
        description: "Timestamp of origination - in COT/UTC-5 or BRL/UTC-3 timezone, according to local country"
      - name: suborder_total_amount
        description: "Suborder total amount (analog concept to the applications requested amount)"
      - name: suborder_total_amount_without_discount
        description: "Suborder total amount without discount (analog concept to the applications requested amount without discount)"
      - name: synthetic_suborder_total_amount
        description: "Basically: CASE WHEN suborder_total_amount_without_discount > 0 THEN suborder_total_amount_without_discount ELSE suborder_total_amount END (follow the same logic as when calculating this amount at the application level)"
      - name: suborder_shipping_amount
        description: "Suborder shipping amount"
      - name: suborder_vtex_external_id_array
        description: "Suborder VTEX list of external ids"
      - name: suborder_vtex_seller_id_array
        description: "Suborder VTEX list of seller ids"
      - name: suborder_ally_brand
        description: "Suborder ally slug brand name"
      - name: suborder_ally_vertical
        description: "Suborder ally slug vertical name"
      - name: suborder_ally_cluster
        description: "Suborder ally slug cluster"
      - name: account_kam_name
        description: "Salesforce KAM User Name"
      - name: status_ally_brand_suborder
        description: "Suborder ally slug brand custom status"
      - name: status_ally_slug_suborder
        description: "Suborder ally slug custom status"
      - name: application_requested_amount
        description: "Application-wise requested amount"
      - name: application_requested_amount_without_discount
        description: "Application-wise requested amount without discount"
      - name: application_channel
        description: "Application-wise channel"
      - name: client_type
        description: "Type of the client"
      - name: application_journey_name
        description: "Application Journey"
      - name: application_original_product
        description: "Original application product (only originations v2) - Business logic from gold.bl_application_product_co/br"
      - name: application_processed_product
        description: "Processed application product - Business logic from gold.bl_application_product_co/br"
      - name: application_synthetic_product_category
        description: "Processed application product category - Business logic from gold.bl_application_product_co/br"
      - name: application_synthetic_product_subcategory
        description: "Processed application product sub-category - Business logic from gold.bl_application_product_co/br"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: agg_architect_loan_tape
    description: "Aggregated table for Architect loan tape - One row per suborder"
    columns:
      - name: client_id
        description: "UUID of the client"
      - name: loan_id
        description: "UUID of the loan"
      - name: marketplace_suborder_id
        description: "UUID of the marketplace suborder"
      - name: calculation_date
        description: "Date of the calculation"
      - name: unpaid_principal
        description: "Unpaid principal"
      - name: approved_amount
        description: "Approved amount"
      - name: current_apr
        description: "Current APR"
      - name: origination_apr
        description: "Origination APR"
      - name: ally_vertical
        description: "Ally vertical"
      - name: is_marketplace
        description: "Flag to indicate if the loan is from a marketplace"
      - name: term
        description: "Term of the loan"
      - name: days_past_due
        description: "Days past due"
      - name: origination_date
        description: "Origination date"
      - name: expected_maturity_date
        description: "Expected maturity date"
      - name: current_installment_amount
        description: "Current installment amount"
      - name: cancellation_reason
        description: "Cancellation reason"
      - name: ally_name
        description: "Ally name"
      - name: product
        description: "Product - Custom, adjusted only for Architect"
      - name: ally_mdf
        description: "Ally MDF"
      - name: prospect_age_avg
        description: "Average age of the prospects"
      - name: is_cancelled
        description: "Flag to indicate if the loan is cancelled"
      - name: is_fully_paid
        description: "Flag to indicate if the loan is fully paid"
      - name: ally_is_terminated
        description: "Flag to indicate if the ally is terminated"
      - name: returning_client
        description: "Flag to indicate if the client is returning"
      - name: client_no_payments
        description: "Number of payments"
      - name: total_principal_paid
        description: "Total principal paid"
      - name: total_interest_paid
        description: "Total interest paid"
      - name: usury_rate
        description: "Usury rate"
      - name: learning_population
        description: "Learning population"
      - name: fga
        description: "FGA of the loan"
      - name: affiliate_fee
        description: "Affiliate fee"
      - name: loan_modifications
        description: "Flag to indicate if the loan has modifications"
      - name: sale_date
        description: "Sale date"
      - name: url_contract
        description: "URL of the contract"
      - name: id_number
        description: "ID number"
  - name: agg_goldman_loan_tape_co
    description: "Aggregated table for Goldman loan tape - One row per suborder"
    columns:
      - name: loan_id
        description: "UUID of the loan"
      - name: marketplace_suborder_id
        description: "UUID of the marketplace suborder"
      - name: product
        description: "Product"
      - name: credit_score
        description: "Credit score"
      - name: credit_score_product
        description: "Credit score product"
      - name: tdsr
        description: "TDSR"
      - name: merchant_discount_fee
        description: "Merchant discount fee"
      - name: estimated_income
        description: "Estimated income"
      - name: credit_check_income_provider
        description: "Credit check income provider"
      - name: region
        description: "Region of the ally"
      - name: addi_pd
        description: "ADDI PD"
      - name: foreberance
        description: "Flag to indicate if the loan is modificated"
      - name: returning_client
        description: "Flag to indicate if the client is returning"
      - name: max_dpd
        description: "Max days past due"
      - name: product_type
        description: "Product type"
      - name: client_id
        description: "UUID of the client"
      - name: current_apr
        description: "Current applicable rate"
      - name: origination_apr
        description: "Origination applicable rate"
      - name: low_balance_loan
        description: "Flag to indicate if the loan has low balance"
      - name: current_usury_rate
        description: "Current usury rate"
      - name: expected_maturity_date
        description: "Expected maturity date"
      - name: current_installment_amount
        description: "Current installment amount"
      - name: ally_name
        description: "Ally name"
      - name: ally_vertical
        description: "Ally vertical"
      - name: is_marketplace
        description: "Flag to indicate if the loan is from a marketplace"
      - name: is_fully_paid
        description: "Flag to indicate if the loan is fully paid"
      - name: is_cancelled
        description: "Flag to indicate if the loan is cancelled"
      - name: client_max_dpd
        description: "Max days past due of the client"
      - name: obligor_age_range
        description: "Age range of the obligor"
      - name: approved_amount
        description: "Approved amount"
      - name: cancellation_reason
        description: "Cancellation reason"
      - name: first_payment_date
        description: "First payment date"
      - name: mob
        description: "Months on book"
      - name: origination_date
        description: "Origination date"
      - name: term
        description: "Term of the loan"
      - name: unpaid_principal
        description: "Unpaid principal"
      - name: days_past_due
        description: "Days past due of the loan"
      - name: expected_final_losses_percentage
        description: "Expected final losses percentage"
      - name: expected_net_profit_percentage
        description: "Expected net profit percentage"
      - name: loan_lead_gen_fee_rate
        description: "Loan lead gen fee rate, always 0 for marketplace loans"
      - name: is_addi_employee
        description: "Flag to indicate if the client is an ADDI employee"
      - name: id_number
        description: "ID number"
      - name: sale_date
        description: "Sale date"
      - name: is_fga_claimed
        description: "Flag to indicate if the FGA is claimed"
      - name: guarantee_provider
        description: "Guarantee provider"
      - name: ltl_flag
        description: "Flag to indicate if the loan is LTL"
  - name: agg_app_daily_profile
    description: "Categorizying app sessions by type on a daily basis"
    columns:
      - name: user_id
        description: "Equals the client_ID"
      - name: profile
        description: "App profile"
  - name: agg_app_weekly_profile
    description: "Categorizying app sessions by type on a weekly basis"
    columns:
      - name: user_id
        description: "Equals the client_ID"
      - name: profile
        description: "App profile"
  - name: agg_app_monthly_profile
    description: "Categorizying app sessions by type on a monthly basis"
    columns:
      - name: user_id
        description: "Equals the client_ID"
      - name: profile
        description: "App profile"
  - name: agg_app_session_profile
    description: "Agg to measure the number of users in app sessions by profile and period"
    columns:
      - name: period_type
        description: "DAILY, WEEKLY OR MONTHLY"
      - name: period
        description: "period_date, period_week or period_month"
      - name: profile
        description: "App profile"
      - name: total_users
        description: "number of total users"
      - name: total_users_logged
        description: "number of total users logged in amplitude with user_id not null"
  - name: snp_monthly_agg_goldman_loan_tape_co
    description: "Monthly snapshot of the Agg Goldman loan tape"
    columns:
      - name: snapshot_timestamp
        description: "Timestamp parsed as date of the snapshot"
      - name: loan_id
        description: "UUID of the loan"
      - name: marketplace_suborder_id
        description: "UUID of the marketplace suborder"
      - name: product
        description: "Product"
      - name: credit_score
        description: "Credit score"
      - name: credit_score_product
        description: "Credit score product"
      - name: tdsr
        description: "TDSR"
      - name: merchant_discount_fee
        description: "Merchant discount fee"
      - name: estimated_income
        description: "Estimated income"
      - name: credit_check_income_provider
        description: "Credit check income provider"
      - name: region
        description: "Region of the ally"
      - name: addi_pd
        description: "ADDI PD"
      - name: foreberance
        description: "Flag to indicate if the loan is modificated"
      - name: returning_client
        description: "Flag to indicate if the client is returning"
      - name: max_dpd
        description: "Max days past due"
      - name: product_type
        description: "Product type"
      - name: client_id
        description: "UUID of the client"
      - name: current_apr
        description: "Current applicable rate"
      - name: origination_apr
        description: "Origination applicable rate"
      - name: low_balance_loan
        description: "Flag to indicate if the loan is low balance"
      - name: current_usury_rate
        description: "Current usury rate"
      - name: expected_maturity_date
        description: "Expected maturity date"
      - name: current_installment_amount
        description: "Current installment amount"
      - name: ally_name
        description: "Ally name"
      - name: ally_vertical
        description: "Ally vertical"
      - name: is_marketplace
        description: "Flag to indicate if the loan is from a marketplace"
      - name: is_fully_paid
        description: "Flag to indicate if the loan is fully paid"
      - name: is_cancelled
        description: "Flag to indicate if the loan is cancelled"
      - name: client_max_dpd
        description: "Max days past due of the client"
      - name: obligor_age_range
        description: "Age range of the obligor"
      - name: approved_amount
        description: "Approved amount"
      - name: cancellation_reason
        description: "Cancellation reason"
      - name: first_payment_date
        description: "First payment date"
      - name: mob
        description: "Months on book"
      - name: origination_date
        description: "Origination date"
      - name: term
        description: "Term of the loan"
      - name: unpaid_principal
        description: "Unpaid principal"
      - name: days_past_due
        description: "Days past due of the loan"
      - name: expected_final_losses_percentage
        description: "Expected final losses percentage"
      - name: expected_net_profit_percentage
        description: "Expected net profit percentage"
      - name: loan_lead_gen_fee_rate
        description: "Loan lead gen fee rate, always 0 for marketplace loans"
      - name: is_addi_employee
        description: "Flag to indicate if the client is an ADDI employee"
      - name: id_number
        description: "ID number"
      - name: sale_date
        description: "Sale date"
      - name: is_fga_claimed
        description: "Flag to indicate if the FGA is claimed"
      - name: guarantee_provider
        description: "Guarantee provider"
      - name: ltl_flag
        description: "Flag to indicate if the loan is LTL"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: agg_app_funnel_metrics_co
    description: "App funnel metrics table by period type"
    columns:
      - name: period_type
        description: Type of the period
      - name: period
        description: Specific period value
      - name: users_total
        description: Total number of users
      - name: users_logged
        description: Logged-in users count
      - name: users_guest
        description: Guest users count
      - name: users_shop_behavior
        description: Users showing shop behavior
      - name: users_store_clicker
        description: PLACEHOLDER DESCRIPTION
      - name: users_logged_store_clicked
        description: PLACEHOLDER DESCRIPTION
      - name: users_guest_store_clicked
        description: PLACEHOLDER DESCRIPTION
      - name: users_logged_shop_behavior
        description: Logged-in users showing shop behavior
      - name: users_guest_shop_behavior
        description: Guest users showing shop behavior
      - name: users_shop_intention
        description: Users with shopping intention
      - name: users_logged_shop_intention
        description: Logged-in users with shopping intention
      - name: users_guest_shop_intention
        description: Guest users with shopping intention
      - name: users_marketplace_seen
        description: Users who have seen the marketplace
      - name: users_logged_marketplace_seen
        description: Logged-in users who have seen the marketplace
      - name: users_guest_marketplace_seen
        description: Guest users who have seen the marketplace
      - name: users_marketplace_browsing
        description: Users browsing the marketplace
      - name: users_logged_marketplace_browsing
        description: Logged-in users browsing the marketplace
      - name: users_guest_marketplace_browsing
        description: Guest users browsing the marketplace
      - name: users_product_interaction
        description: Users interacting with products
      - name: users_logged_product_interaction
        description: Logged-in users interacting with products
      - name: users_guest_product_interaction
        description: Guest users interacting with products
      - name: users_add_to_cart
        description: Users who added items to cart
      - name: users_logged_add_to_cart
        description: Logged-in users who added items to cart
      - name: users_guest_add_to_cart
        description: Guest users who added items to cart
      - name: users_mktplace_checkout
        description: Users completing checkout in marketplace
      - name: users_logged_mktplace_checkout
        description: Logged-in users completing checkout in marketplace
      - name: users_guest_mktplace_checkout
        description: Guest users completing checkout in marketplace
      - name: applications
        description: Total number of applications
      - name: referral_applications
        description: Total number of referral applications
      - name: referral_paid_applications
        description: Total number of referral paid applications
      - name: shop_applications
        description: Shop-related applications
      - name: shop_paid_applications
        description: Paid shop applications
      - name: mktplace_applications
        description: Marketplace applications
      - name: users_applying
        description: Users submitting applications
      - name: referral_users_applying
        description: referral users submitting applications
      - name: referral_paid_users_applying
        description: referral paid users submitting applications
      - name: users_shop_applying
        description: Shop users submitting applications
      - name: shop_paid_users_applying
        description: Paid shop users submitting applications
      - name: mktplace_users_applying
        description: Marketplace users submitting applications
      - name: originations
        description: Total number of originations
      - name: shop_originations
        description: Shop-related originations
      - name: Referral_originations
        description: Referral shop-related originations
      - name: Referral_paid_originations
        description: Referral paid shop-related originations
      - name: referral_paid_users_originating
        description: Paid shop originations
      - name: mktplace_originations
        description: Marketplace originations
      - name: referral_users_originating
        description: Referral Users completing originations
      - name: users_shop_originating
        description: Shop users completing originations
      - name: mktplace_users_originating
        description: Marketplace users completing originations
  - name: bl_application_id_to_application_process_id_co
    description: "Business Logic table meant to translate original application_ids to the application_process_id they are a part of (updated concept: check: @Application Processes (Notion page)). Additional reference: @gold.bl_application_id_to_application_process_id_co (Notion page) "
    columns:
      - name: application_id
        description: "UUID of the application"
      - name: application_process_id
        description: "UUUD of the application process"
      - name: debug_application_process_baseline_id
        description: "UUUD of the application process baseline (used to build the application process id)"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_contribution_income_components_co
    description: "Business Logic table (loan_id based) with all of the components involved to compute the Contribution Income USD as part of the North Star KPI's"
    columns:
      - name: country_code
        description: "Country code, fixed to CO for entire table"
      - name: application_id
        description: "UUID of the application"
      - name: custom_application_suborder_pairing_id
        description: "Custom UUID built on top of joining: the application id + suborder id"
      - name: loan_id
        description: "UUID of the loan"
      - name: client_id
        description: "UUID of the client"
      - name: origination_date_local
        description: "Timestamp of origination - in COT/UTC-5, according to local country"
      - name: ally_slug
        description: "Ally Slug"
      - name: custom_debug_attribution_weight
        description: "Factor which represents the portion of the whole loan in each suborder"
      - name: term
        description: "Term of the loan"
      - name: client_type
        description: "Type of the client (Prospect or Returning Client)"
      - name: synthetic_product_category
        description: "Processed application product category - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_subcategory
        description: "Processed application product sub-category - Business logic from gold.bl_application_product_co/br"
      - name: gmv_usd
        description: "GMV (USD)"
      - name: total_revenue_usd
        description: "consumer_revenue + merchant_revenue (USD)"
      - name: guarantee_amount_usd
        description: "guarantee_amount (USD)"
      - name: fng_cost_amount_usd
        description: "approved_amount * fng_cost_rate (USD)"
      - name: expected_final_losses_usd
        description: "Losses expected at the time of origination"
      - name: approved_amount_filtered_for_losses_usd
        description: "Approved amount of loan filtering only loans with expected losses not null (USD)"
      - name: payment_cost_usd
        description: "Payment Cost by term (USD)"
      - name: cost_to_serve_usd
        description: "Cost to serve by term (USD)"
      - name: underwriting_cost_usd
        description: "GMV - Only for PROSPECTS - (USD)"
      - name: cost_of_funding_usd
        description: "Cost of Funding (USD)"
  - name: dm_originations_detailed_by_suborder
    description: "New Data mart that represents the same as dm_originations but expanding its scope on marketplace originations, for which a new row is created per suborder, all values are calculated or attributed accordingly. WHen dealing with non-marketplace applications the values are the exact same as in dm_originations"
    columns:
      - name: row_id
        description: "Table PK/ Unique identifier. Has value (MD5) built on top of custom_application_suborder_pairing_id when the row represents a marketplace suborder, if this is not the case it is then built on top of application_id"
      - name: country_code
        description: "Code of the country (BR or CO)"
      - name: application_id
        description: "UUID of the application"
      - name: custom_application_suborder_pairing_id
        description: "Custom UUID built on top of joining: the application id + suborder id"
      - name: loan_id
        description: "UUID of the loan"
      - name: client_id
        description: "UUID of the client"
      - name: refinanced_by_origination_of_loan_id
        description: "Originated loan UUID - this is an origination that refinances 1 or more previously existing loans"
      - name: order_id
        description: "UUID of the order"
      - name: ally_slug
        description: "Slug of the ally"
      - name: store_slug
        description: "Slug of the store"
      - name: origination_date
        description: "Date of the origination in UTC timezone"
      - name: origination_date_local
        description: "Date of the origination in local timezone"
      - name: origination_hour_local
        description: "hour when application started - localized to country"
      - name: origination_minute_local
        description: "minute when application started - localized to country"
      - name: lbl
        description: "Boolean indicating if the loan is low balance"
      - name: term
        description: "Term of the loan"
      - name: credit_policy_name
        description: "Credit check policy name"
      - name: pd_calculation_method
        description: "DESCRIPTION_PLACEHOLDER"
      - name: client_type
        description: "Type of the client (Prospect or Returning Client)"
      - name: journey_name
        description: "Application journey name"
      - name: application_channel
        description: "Channel of the application"
      - name: synthetic_channel
        description: "Custom application_channel grouping - Business logic from gold.bl_application_channel"
      - name: original_product
        description: "Original application product (only originations v2) - Business logic from gold.bl_application_product_co/br"
      - name: processed_product
        description: "Processed application product - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_category
        description: "Processed application product category - Business logic from gold.bl_application_product_co/br"
      - name: synthetic_product_subcategory
        description: "Processed application product sub-category - Business logic from gold.bl_application_product_co/br"
      - name: santander_branched
        description: "Custom boolean flag for applications that are going through Santander journey and pass their Risk Evaluation"
      - name: santander_origination
        description: "Custom boolean flag for originations that are going through Santander journey and were originated"
      - name: approved_amount
        description: "Origination amount approved"
      - name: requested_amount
        description: "Requested amount prioritizing requested_amount_without_discount over requested_amount when the former is available"
      - name: gmv
        description: "Requested amount prioritizing requested_amount_without_discount over requested_amount when the former is available"
      - name: guarantee_rate
        description: "Loan FGA rate accepted by the client at loan proposal stage"
      - name: guarantee_provider_with_default
        description: "Guarantee provider, FNG or FGA"
      - name: fng_cost_amount
        description: "For FNG: (o.approved_amount * ff.fng_cost_rate) + (o.approved_amount * (guarantee_rate * ((1/(1+fga_tax_rate)) * fga_tax_rate)))"
      - name: guarantee_amount_charged_at_checkout
        description: "DESCRIPTION_PLACEHOLDER"
      - name: guarantee_amount
        description: "(guarantee_rate * requested_amount) * (1/1.19) * 0.9 * (1 - expected_loss_rate)"
      - name: has_fga_flag
        description: "Flag that tell us when the loan has fga"
      - name: interest_rate
        description: "Loan interest rate accepted by the client at loan proposal stage"
      - name: total_interest
        description: "interest_rate * requested_amount) * (1 - expected_loss_rate)"
      - name: lead_gen_fee_rate
        description: "Lead Gen Fee rate if the application is shop_referral_paid TRUE"
      - name: lead_gen_fee_amount
        description: "lead_gen_fee_rate * requested_amount"
      - name: ally_mdf
        description: "MDF of the ally"
      - name: mdf_amount
        description: "ally_mdf * requested_amount"
      - name: synthetic_origination_marketplace_purchase_fee
        description: "Origination a-posteriori calculated marketplace purchase fee - weighted percentage, basically SUM(suborder_marketplace_purchase_fee * synthetic_suborder_total_amount) divided by the SUM(synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: synthetic_origination_marketplace_purchase_fee_amount
        description: "Origination a-posteriori calculated marketplace purchase fee amount - basically the SUM(suborder_marketplace_purchase_fee * synthetic_suborder_total_amount) of the marketplace suborders in the origination"
      - name: expected_collection_fee_amount
        description: "expected late fee amount"
      - name: consumer_revenue
        description: "guarantee_amount + total_interest"
      - name: merchant_revenue
        description: "lead_gen_fee_amount + mdf_amount + synthetic_origination_marketplace_purchase_fee_amount (new 2023-03)"
      - name: total_revenue
        description: "consumer_revenue + merchant_revenue"
      - name: ally_vertical
        description: "Vertical of the ally"
      - name: ally_brand
        description: "Brand of the ally"
      - name: ally_cluster
        description: "Cluster of the ally slug"
      - name: account_kam_name
        description: "Salesforce KAM User Name"
      - name: approved_amount_filtered_for_losses
        description: "Approved amount of each loan filtering only loans with expected losses not null"
      - name: guarantee_expected_loss_recovery_amount
        description: "Guarantee expected recovery losses due to FNG policy"
      - name: gross_expected_final_losses_amount
        description: "Expected final losses amount without discounting FNG recovery"
      - name: expected_final_losses
        description: "Losses expected at the time of origination"
      - name: expected_final_losses_rate
        description: "DESCRIPTION_PLACEHOLDER"
      - name: dq31_at_31_upb
        description: "deliquency 31 at 31 unpaid principal balance"
      - name: dq31_at_31_opb
        description: "deliquency 31 at 31 origination principal balance"
      - name: dq31_at_31_date
        description: "deliquency 31 at 31 date"
      - name: is_addishop_referral
        description: "Boolean to indicate weather the loan was started in Addishop channel (App/Web/Email/WA/etc)"
      - name: is_addishop_referral_paid
        description: "Boolean to indicate weather the loan was started in Addishop channel & the merchant is paying the Addishop fee"
      - name: addishop_channel
        description: "Channel where the transaction was referred (APP, SMS, WA, E-MAIL, WEB, etc.)"
      - name: shop_used_grouped_config
        description: "Indicates whether the attribution was due to a grouped slug (ie. in-store attribution) or not"
      - name: addishop_opt_in_date
        description: "Slug´s Shop opt_in date at the time of the application if its a shop_referral_paid TRUE"
      - name: addishop_opt_out_date
        description: "Slug´s Shop opt_out date at the time of the application if its a shop_referral_paid TRUE"
      - name: fx_rate
        description: "Currency exchange rate (BRL to USD / COP to USD)"
      - name: segment
        description: "Good Book / Bad Book client (only BR)"
      - name: debug_row_granularity
        description: "Debug string field with either of these values: MARKETPLACE_SUBORDER_ORIGINATION | NON_MARKETPLACE_ORIGINATION"
      - name: debug_attribution_weight
        description: "Debug value that represents the exact attribution value used for each row that represents marketplace suborders, decimal value between 0 and 1"
      - name: debug_in_marketplace_order_num_allies
        description: "Debug field that represents the # of allies found in a marketplace order/application"
      - name: debug_suborders_quality_alert_trigger
        description: "Debug field set to TRUE when there is an issue with data quality with marketplace suborders data"
      - name: ingested_at
        description: "Runtime (datetime) when query was run"
      - name: updated_at
        description: "Environment variable (execution_date) from Airflow/dbt"
  - name: dm_legal_ai_assistant_by_loan
    description: "Datamart for Legal to create an AI assistant by loan"
    columns:
      - name: loan_id
        description: "UUID of the originated due to refinance loan"
      - name: client_id
        description: "UUID of the client"
      - name: application_id
        description: "UUID of the application"
      - name: ally_slug
        description: "Slug of the ally"
      - name: approved_amount
        description: "Approved amount of the loan"
      - name: term
        description: "Term of the loan"
      - name: interest_rate
        description: "Interest Rate (effective annual rate)"
      - name: fully_paid_date
        description: "Date when the loan was fully paid"
      - name: origination_date_local
        description: "Timestamp when application started - localized to country"
      - name: bureau_report_detail_json
        description: "Struct field with information from experian bureau report "
      - name: loan_acceptance_detail_json
        description: "JSON with information about oan acceptance"
      - name: installments_detail_json
        description: "JSON with information about installments"
      - name: loan_acceptance_date_local
        description: "Loan acceptance date local"
      - name: state
        description: "Status of the loan"
      - name: num_obl
        description: "String with a size of 18 characters from the last 12 values of the loan_id "
  - name: dm_legal_ai_assistant_by_client
    description: "Datamart for Legal to create an AI assistant by client"
    columns:
      - name: client_id
        description: "UUID of the client"
      - name: full_name
        description: "Full name of the client"
      - name: id_number
        description: "National ID number"
      - name: id_type
        description: "National ID type"
      - name: document_expedition_city
        description: "city that we can find in the document of the person"
      - name: document_expedition_date
        description: "date when the document was expedited"
      - name: last_name
        description: "Last name"
      - name: privacy_policy_accepted_date
        description: "Date whn the privacy policy was accepted"
      - name: privacy_policy_detail_json
        description: "JSON with extra information about privacy policy data"
      - name: privacy_policy_accepted_application_id
        description: "application id when the privacy policy was accepted"
      - name: application_cellphone
        description: "Cellphone from each application"
      - name: application_email
        description: "Application email from each application"
      - name: message_info_detailed_json
        description: "JSON with Information about the sms message we sent to clients"
      - name: email_info_detailed_json
        description: "JSON with Information about the email message we sent to clients"
        
